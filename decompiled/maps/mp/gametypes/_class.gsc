// S1 GSC SOURCE
// Dumped by https://github.com/xensik/gsc-tool

init()
{
    level.classmap["class0"] = 0;
    level.classmap["class1"] = 1;
    level.classmap["class2"] = 2;
    level.classmap["class3"] = 3;
    level.classmap["class4"] = 4;
    level.classmap["class5"] = 5;
    level.classmap["class6"] = 6;
    level.classmap["class7"] = 7;
    level.classmap["class8"] = 8;
    level.classmap["class9"] = 9;
    level.classmap["class10"] = 10;
    level.classmap["class11"] = 11;
    level.classmap["class12"] = 12;
    level.classmap["class13"] = 13;
    level.classmap["class14"] = 14;
    level.classmap["custom1"] = 0;
    level.classmap["custom2"] = 1;
    level.classmap["custom3"] = 2;
    level.classmap["custom4"] = 3;
    level.classmap["custom5"] = 4;
    level.classmap["custom6"] = 5;
    level.classmap["custom7"] = 6;
    level.classmap["custom8"] = 7;
    level.classmap["custom9"] = 8;
    level.classmap["custom10"] = 9;
    level.classmap["custom11"] = 10;
    level.classmap["custom12"] = 11;
    level.classmap["custom13"] = 12;
    level.classmap["custom14"] = 13;
    level.classmap["custom15"] = 14;
    level.classmap["custom16"] = 15;
    level.classmap["custom17"] = 16;
    level.classmap["custom18"] = 17;
    level.classmap["custom19"] = 18;
    level.classmap["custom20"] = 19;
    level.classmap["custom21"] = 20;
    level.classmap["custom22"] = 21;
    level.classmap["custom23"] = 22;
    level.classmap["custom24"] = 23;
    level.classmap["custom25"] = 24;
    level.classmap["custom26"] = 25;
    level.classmap["custom27"] = 26;
    level.classmap["custom28"] = 27;
    level.classmap["custom29"] = 28;
    level.classmap["custom30"] = 29;
    level.classmap["custom31"] = 30;
    level.classmap["custom32"] = 31;
    level.classmap["custom33"] = 32;
    level.classmap["custom34"] = 33;
    level.classmap["custom35"] = 34;
    level.classmap["custom36"] = 35;
    level.classmap["custom37"] = 36;
    level.classmap["custom38"] = 37;
    level.classmap["custom39"] = 38;
    level.classmap["custom40"] = 39;
    level.classmap["custom41"] = 40;
    level.classmap["custom42"] = 41;
    level.classmap["custom43"] = 42;
    level.classmap["custom44"] = 43;
    level.classmap["custom45"] = 44;
    level.classmap["custom46"] = 45;
    level.classmap["custom47"] = 46;
    level.classmap["custom48"] = 47;
    level.classmap["custom49"] = 48;
    level.classmap["custom50"] = 49;
    level.classmap["custom51"] = 50;
    level.classmap["custom52"] = 51;
    level.classmap["custom53"] = 52;
    level.classmap["custom54"] = 53;
    level.classmap["custom55"] = 54;
    level.classmap["custom56"] = 55;
    level.classmap["custom57"] = 56;
    level.classmap["custom58"] = 57;
    level.classmap["custom59"] = 58;
    level.classmap["custom60"] = 59;
    level.classmap["practice1"] = 0;
    level.classmap["practice2"] = 1;
    level.classmap["practice3"] = 2;
    level.classmap["practice4"] = 3;
    level.classmap["practice5"] = 4;
    level.classmap["practice6"] = 5;
    level.classmap["practice7"] = 6;
    level.classmap["practice8"] = 7;
    level.classmap["practice9"] = 8;
    level.classmap["practice10"] = 9;
    level.classmap["lobby1"] = 0;
    level.classmap["lobby2"] = 1;
    level.classmap["lobby3"] = 2;
    level.classmap["lobby4"] = 3;
    level.classmap["lobby5"] = 4;
    level.classmap["lobby6"] = 5;
    level.classmap["lobby7"] = 6;
    level.classmap["lobby8"] = 7;
    level.classmap["lobby9"] = 8;
    level.classmap["lobby10"] = 9;
    level.classmap["lobby11"] = 10;
    level.classmap["lobby12"] = 11;
    level.classmap["lobby13"] = 12;
    level.classmap["lobby14"] = 13;
    level.classmap["lobby15"] = 14;
    level.classmap["lobby16"] = 15;
    level.classmap["lobby17"] = 16;
    level.classmap["lobby18"] = 17;
    level.classmap["lobby19"] = 18;
    level.classmap["lobby20"] = 19;
    level.classmap["lobby21"] = 20;
    level.classmap["lobby22"] = 21;
    level.classmap["lobby23"] = 22;
    level.classmap["lobby24"] = 23;
    level.classmap["lobby25"] = 24;
    level.classmap["lobby26"] = 25;
    level.classmap["lobby27"] = 26;
    level.classmap["lobby28"] = 27;
    level.classmap["lobby29"] = 28;
    level.classmap["lobby30"] = 29;
    level.classmap["lobby31"] = 30;
    level.classmap["lobby32"] = 31;
    level.classmap["lobby33"] = 32;
    level.classmap["lobby34"] = 33;
    level.classmap["lobby35"] = 34;
    level.classmap["lobby36"] = 35;
    level.classmap["lobby37"] = 36;
    level.classmap["lobby38"] = 37;
    level.classmap["lobby39"] = 38;
    level.classmap["lobby40"] = 39;
    level.classmap["lobby41"] = 40;
    level.classmap["lobby42"] = 41;
    level.classmap["lobby43"] = 42;
    level.classmap["lobby44"] = 43;
    level.classmap["lobby45"] = 44;
    level.classmap["lobby46"] = 45;
    level.classmap["lobby47"] = 46;
    level.classmap["lobby48"] = 47;
    level.classmap["lobby49"] = 48;
    level.classmap["lobby50"] = 49;
    level.classmap["lobby51"] = 50;
    level.classmap["lobby52"] = 51;
    level.classmap["lobby53"] = 52;
    level.classmap["lobby54"] = 53;
    level.classmap["lobby55"] = 54;
    level.classmap["lobby56"] = 55;
    level.classmap["lobby57"] = 56;
    level.classmap["lobby58"] = 57;
    level.classmap["lobby59"] = 58;
    level.classmap["lobby60"] = 59;
    level.classmap["axis_recipe1"] = 0;
    level.classmap["axis_recipe2"] = 1;
    level.classmap["axis_recipe3"] = 2;
    level.classmap["axis_recipe4"] = 3;
    level.classmap["axis_recipe5"] = 4;
    level.classmap["axis_recipe6"] = 5;
    level.classmap["allies_recipe1"] = 0;
    level.classmap["allies_recipe2"] = 1;
    level.classmap["allies_recipe3"] = 2;
    level.classmap["allies_recipe4"] = 3;
    level.classmap["allies_recipe5"] = 4;
    level.classmap["allies_recipe6"] = 5;
    level.classmap["copycat"] = -1;
    level.classmap["gamemode"] = 0;
    level.classmap["callback"] = 0;
    level.defaultclass = "CLASS_ASSAULT";
    level.classtablename = "mp/classTable.csv";
    level.practiceroundclasstablename = "mp/practiceRoundClassTable.csv";
    level.practiceroundcostumetablename = "mp/practiceRoundCostumeTable.csv";
    level.agentcostumetablename = "mp/agentCostumeTable.csv";
    level.hardcorecostumetablename = "mp/hardcoreCostumeTable.csv";
    level.classpickcount = 13;

    if ( !isdefined( level.customclasspickcount ) )
        level.customclasspickcount = 13;

    level.costumecat2gearsettablecol = [];
    level.costumecat2gearsettablecol["shirt"] = 8;
    level.costumecat2gearsettablecol["pants"] = 11;
    level.costumecat2gearsettablecol["gloves"] = 10;
    level.costumecat2gearsettablecol["shoes"] = 13;
    level.costumecat2gearsettablecol["kneepads"] = 12;
    level.costumecat2gearsettablecol["gear"] = 9;
    level.costumecat2gearsettablecol["hat"] = 7;
    level.costumecat2gearsettablecol["eyewear"] = 6;
    level.costumecat2gearsettablecol["exo"] = 14;
    level thread onplayerconnecting();
}

getemptyloadout()
{
    var_0 = [];
    var_0["loadoutPrimary"] = "iw5_combatknife";
    var_0["loadoutPrimaryAttachment"] = "none";
    var_0["loadoutPrimaryAttachment2"] = "none";
    var_0["loadoutPrimaryAttachment3"] = "none";
    var_0["loadoutPrimaryCamo"] = "none";
    var_0["loadoutPrimaryReticle"] = "none";
    var_0["loadoutSecondary"] = "none";
    var_0["loadoutSecondaryAttachment"] = "none";
    var_0["loadoutSecondaryAttachment2"] = "none";
    var_0["loadoutSecondaryAttachment3"] = "none";
    var_0["loadoutSecondaryCamo"] = "none";
    var_0["loadoutSecondaryReticle"] = "none";
    var_0["loadoutEquipment"] = "specialty_null";
    var_0["loadoutEquipmentExtra"] = 0;
    var_0["loadoutOffhand"] = "none";
    var_0["loadoutOffhandExtra"] = 0;
    var_0["loadoutKillstreaks"][0] = "none";
    var_0["loadoutKillstreaks"][1] = "none";
    var_0["loadoutKillstreaks"][2] = "none";
    var_0["loadoutKillstreaks"][3] = "none";
    var_0["loadoutKillstreakModules"][0][0] = "none";
    var_0["loadoutKillstreakModules"][0][1] = "none";
    var_0["loadoutKillstreakModules"][0][2] = "none";
    var_0["loadoutKillstreakModules"][1][0] = "none";
    var_0["loadoutKillstreakModules"][1][1] = "none";
    var_0["loadoutKillstreakModules"][1][2] = "none";
    var_0["loadoutKillstreakModules"][2][0] = "none";
    var_0["loadoutKillstreakModules"][2][1] = "none";
    var_0["loadoutKillstreakModules"][2][2] = "none";
    var_0["loadoutKillstreakModules"][3][0] = "none";
    var_0["loadoutKillstreakModules"][3][1] = "none";
    var_0["loadoutKillstreakModules"][3][2] = "none";
    var_0["loadoutPerks"] = maps\mp\perks\_perks::getemptyperks();
    var_0["loadoutWildcards"] = [ "specialty_null", "specialty_null", "specialty_null" ];
    var_0["loadoutJuggernaut"] = 0;
    return var_0;
}

getclasschoice( var_0 )
{
    return var_0;
}

getweaponchoice( var_0 )
{
    var_1 = strtok( var_0, "," );

    if ( var_1.size > 1 )
        return int( var_1[1] );
    else
        return 0;
}

logclasschoice( var_0, var_1, var_2, var_3 )
{
    if ( var_0 == self.lastclass )
        return;

    self logstring( "choseclass: " + var_0 + " weapon: " + var_1 + " special: " + var_2 );

    for ( var_4 = 0; var_4 < var_3.size; var_4++ )
        self logstring( "perk" + var_4 + ": " + var_3[var_4] );

    self.lastclass = var_0;
}

cac_getweapon( var_0, var_1 )
{
    if ( isdefined( level.forcecustomclassloc ) )
        return self getcacplayerdataforgroup( level.forcecustomclassloc, var_0, "weaponSetups", var_1, "weapon" );
    else
        return self getcacplayerdata( var_0, "weaponSetups", var_1, "weapon" );
}

cac_getweaponattachment( var_0, var_1 )
{
    if ( isdefined( level.forcecustomclassloc ) )
        return self getcacplayerdataforgroup( level.forcecustomclassloc, var_0, "weaponSetups", var_1, "attachment", 0 );
    else
        return self getcacplayerdata( var_0, "weaponSetups", var_1, "attachment", 0 );
}

cac_getweaponattachmenttwo( var_0, var_1 )
{
    if ( isdefined( level.forcecustomclassloc ) )
        return self getcacplayerdataforgroup( level.forcecustomclassloc, var_0, "weaponSetups", var_1, "attachment", 1 );
    else
        return self getcacplayerdata( var_0, "weaponSetups", var_1, "attachment", 1 );
}

cac_getweaponattachmentthree( var_0, var_1 )
{
    if ( isdefined( level.forcecustomclassloc ) )
        return self getcacplayerdataforgroup( level.forcecustomclassloc, var_0, "weaponSetups", var_1, "attachment", 2 );
    else
        return self getcacplayerdata( var_0, "weaponSetups", var_1, "attachment", 2 );
}

cac_getweaponcamo( var_0, var_1 )
{
    if ( isdefined( level.forcecustomclassloc ) )
        return self getcacplayerdataforgroup( level.forcecustomclassloc, var_0, "weaponSetups", var_1, "camo" );
    else
        return self getcacplayerdata( var_0, "weaponSetups", var_1, "camo" );
}

cac_getweaponreticle( var_0, var_1 )
{
    if ( isdefined( level.forcecustomclassloc ) )
        return self getcacplayerdataforgroup( level.forcecustomclassloc, var_0, "weaponSetups", var_1, "reticle" );
    else
        return self getcacplayerdata( var_0, "weaponSetups", var_1, "reticle" );
}

cac_getperk( var_0, var_1 )
{
    if ( isdefined( level.forcecustomclassloc ) )
        return self getcacplayerdataforgroup( level.forcecustomclassloc, var_0, "perkSlots", var_1 );
    else
        return self getcacplayerdata( var_0, "perkSlots", var_1 );
}

cac_getwildcard( var_0, var_1 )
{
    if ( isdefined( level.forcecustomclassloc ) )
        return self getcacplayerdataforgroup( level.forcecustomclassloc, var_0, "wildcardSlots", var_1 );
    else
        return self getcacplayerdata( var_0, "wildcardSlots", var_1 );
}

cac_getkillstreak( var_0, var_1 )
{
    if ( isdefined( level.forcecustomclassloc ) )
        return self getcacplayerdataforgroup( level.forcecustomclassloc, var_0, "assaultStreaks", var_1, "streak" );
    else
        return self getcacplayerdata( var_0, "assaultStreaks", var_1, "streak" );
}

cac_getkillstreakmodule( var_0, var_1, var_2 )
{
    if ( isdefined( level.forcecustomclassloc ) )
        return self getcacplayerdataforgroup( level.forcecustomclassloc, var_0, "assaultStreaks", var_1, "modules", var_2 );
    else
        return self getcacplayerdata( var_0, "assaultStreaks", var_1, "modules", var_2 );
}

cac_getequipment( var_0, var_1 )
{
    if ( isdefined( level.forcecustomclassloc ) )
        return self getcacplayerdataforgroup( level.forcecustomclassloc, var_0, "equipmentSetups", var_1, "equipment" );
    else
        return self getcacplayerdata( var_0, "equipmentSetups", var_1, "equipment" );
}

cac_getequipmentextra( var_0, var_1 )
{
    if ( isdefined( level.forcecustomclassloc ) )
        return self getcacplayerdataforgroup( level.forcecustomclassloc, var_0, "equipmentSetups", var_1, "extra" );
    else
        return self getcacplayerdata( var_0, "equipmentSetups", var_1, "extra" );
}

cac_getoffhand( var_0 )
{
    return cac_getequipment( var_0, 1 );
}

cao_isglobalcostumecategory( var_0 )
{
    return var_0 == "gender" || var_0 == "head";
}

cao_getglobalcostumecategory( var_0 )
{
    return self getcommonplayerdata( "globalCostume", var_0 );
}

cao_getpercostumecategory( var_0, var_1 )
{
    return self getcommonplayerdata( "costumes", var_1, var_0 );
}

cao_setglobalcostumecategory( var_0, var_1 )
{
    return self setcommonplayerdata( "globalCostume", var_0, var_1 );
}

cao_setpercostumecategory( var_0, var_1, var_2 )
{
    return self setcommonplayerdata( "costumes", var_2, var_0, var_1 );
}

cao_getactivecostumeindex()
{
    return self getcommonplayerdata( "activeCostume" );
}

cao_getcostumebyindex( var_0 )
{
    var_1 = [];

    for ( var_2 = 0; var_2 < level.costumecategories.size; var_2++ )
    {
        var_3 = level.costumecategories[var_2];

        if ( cao_isglobalcostumecategory( var_3 ) )
        {
            var_1[var_2] = cao_getglobalcostumecategory( var_3 );
            continue;
        }

        var_1[var_2] = cao_getpercostumecategory( var_3, var_0 );
    }

    return var_1;
}

cao_getactivecostume()
{
    var_0 = cao_getactivecostumeindex();
    return cao_getcostumebyindex( var_0 );
}

cao_setcostumebyindex( var_0, var_1 )
{
    var_0 = validatecostume( var_0 );

    for ( var_2 = 0; var_2 < level.costumecategories.size; var_2++ )
    {
        var_3 = level.costumecategories[var_2];

        if ( cao_isglobalcostumecategory( var_3 ) )
        {
            cao_setglobalcostumecategory( var_3, var_0[var_2] );
            continue;
        }

        cao_setpercostumecategory( var_3, var_0[var_2], var_1 );
    }
}

cao_setactivecostume( var_0 )
{
    var_1 = cao_getactivecostumeindex();
    cao_setcostumebyindex( var_0, var_1 );
}

checkforcostumeset()
{
    if ( isdefined( self.costume ) && getdvarint( "bg_customization_gearSetBonusEnabled" ) )
    {
        var_0 = [];
        self.costumebonus = [];

        for ( var_1 = 0; var_1 < self.costume.size; var_1++ )
        {
            var_2 = level.costumecategories[var_1];
            var_3 = level.costumetypehexids[var_2];
            var_4 = self.costume[var_1];
            var_5 = _func_2DE( var_3, var_4 );
            var_6 = level.costumecat2gearsettablecol[var_2];

            if ( isdefined( var_6 ) )
            {
                var_7 = tablelookuprownum( "mp/characterGearSetTable.csv", var_6, var_5 );

                while ( isdefined( var_7 ) && var_7 >= 0 )
                {
                    var_8 = tablelookupbyrow( "mp/characterGearSetTable.csv", var_7, 0 );

                    if ( !isdefined( var_0[var_8] ) )
                    {
                        var_9 = tablelookupbyrow( "mp/characterGearSetTable.csv", var_7, 3 );
                        var_10 = getdvarfloat( "bg_customization_gearSetBonusXP" );
                        var_11 = tablelookupbyrow( "mp/characterGearSetTable.csv", var_7, 5 );
                        var_12 = [];
                        var_12["bonusType"] = var_9;
                        var_12["bonus"] = var_10;
                        var_12["amtInSet"] = var_11;
                        var_12["foundAmt"] = 1;
                        var_0[var_8] = var_12;
                    }
                    else
                        var_0[var_8]["foundAmt"]++;

                    var_7 -= 1;

                    if ( var_7 >= 0 )
                        var_7 = tablelookuprownum( "mp/characterGearSetTable.csv", var_6, var_5, var_7 );
                }
            }
        }

        var_13 = getarraykeys( var_0 );

        for ( var_1 = 0; var_1 < var_13.size; var_1++ )
        {
            var_8 = var_13[var_1];
            var_14 = tablelookup( "mp/characterGearSetTable.csv", 0, var_8, 15 );
            var_15 = int( tablelookup( "mp/characterGearSetTable.csv", 0, var_8, 16 ) );
            var_16 = getdvarint( "bg_customization_gearSetKillswitch_" + var_14 );

            if ( ( var_15 & var_16 ) > 0 )
            {
                var_9 = var_0[var_8]["bonusType"];
                var_10 = var_0[var_8]["bonus"];
                var_11 = int( var_0[var_8]["amtInSet"] );
                var_17 = var_0[var_8]["foundAmt"];

                if ( var_11 == var_17 )
                {
                    if ( !isdefined( self.costumebonus[var_9] ) )
                    {
                        var_18 = [];
                        var_18[var_8] = var_10;
                        self.costumebonus[var_9] = [];
                        self.costumebonus[var_9]["refs"] = var_18;
                        self.costumebonus[var_9]["bonusTotal"] = var_10;
                    }
                    else
                    {
                        self.costumebonus[var_9]["refs"][var_8] = var_10;
                        self.costumebonus[var_9]["bonusTotal"] += var_10;
                    }
                }
            }
        }
    }
}

table_getweapon( var_0, var_1, var_2 )
{
    if ( var_2 == 0 )
        return tablelookup( var_0, 0, "loadoutPrimary", var_1 + 1 );
    else
        return tablelookup( var_0, 0, "loadoutSecondary", var_1 + 1 );
}

table_getweaponattachment( var_0, var_1, var_2, var_3 )
{
    var_4 = "none";
    var_5 = "loadoutPrimaryAttachment";

    if ( var_2 )
        var_5 = "loadoutSecondaryAttachment";

    if ( !isdefined( var_3 ) )
        var_3 = 0;

    switch ( var_3 )
    {
        case 0:
            break;
        case 1:
            var_5 += "2";
            break;
        case 2:
            var_5 += "3";
            break;
        default:
    }

    var_4 = tablelookup( var_0, 0, var_5, var_1 + 1 );

    if ( var_4 == "" || var_4 == "none" )
        return "none";
    else
        return var_4;
}

table_getweaponbuff( var_0, var_1, var_2 )
{
    if ( var_2 == 0 )
        return tablelookup( var_0, 0, "loadoutPrimaryBuff", var_1 + 1 );
    else
        return tablelookup( var_0, 0, "loadoutSecondaryBuff", var_1 + 1 );
}

table_getweaponcamo( var_0, var_1, var_2 )
{
    if ( var_2 == 0 )
        return tablelookup( var_0, 0, "loadoutPrimaryCamo", var_1 + 1 );
    else
        return tablelookup( var_0, 0, "loadoutSecondaryCamo", var_1 + 1 );
}

table_getweaponreticle( var_0, var_1, var_2 )
{
    if ( var_2 == 0 )
        return tablelookup( var_0, 0, "loadoutPrimaryReticle", var_1 + 1 );
    else
        return tablelookup( var_0, 0, "loadoutSecondaryReticle", var_1 + 1 );
}

table_getperk( var_0, var_1, var_2 )
{
    var_2++;
    var_3 = "loadoutPerk" + var_2;
    return tablelookup( var_0, 0, var_3, var_1 + 1 );
}

table_getwildcard( var_0, var_1, var_2 )
{
    var_2++;
    var_3 = "loadoutWildcard" + var_2;
    return tablelookup( var_0, 0, var_3, var_1 + 1 );
}

table_getequipment( var_0, var_1 )
{
    return tablelookup( var_0, 0, "loadoutEquipment", var_1 + 1 );
}

table_getequipmentextra( var_0, var_1 )
{
    var_2 = tablelookup( var_0, 0, "loadoutEquipment2", var_1 + 1 );
    return var_2 != "" && var_2 != "specialty_null";
}

table_getteamperk( var_0, var_1 )
{
    return tablelookup( var_0, 0, "loadoutTeamPerk", var_1 + 1 );
}

table_getoffhand( var_0, var_1 )
{
    return tablelookup( var_0, 0, "loadoutOffhand", var_1 + 1 );
}

table_getoffhandextra( var_0, var_1 )
{
    var_2 = tablelookup( var_0, 0, "loadoutOffhand2", var_1 + 1 );
    return var_2 != "" && var_2 != "specialty_null";
}

table_getkillstreak( var_0, var_1, var_2 )
{
    return tablelookup( var_0, 0, "loadoutStreak" + ( var_2 + 1 ), var_1 + 1 );
}

table_getkillstreakmodule( var_0, var_1, var_2, var_3 )
{
    switch ( var_3 )
    {
        case 0:
            return tablelookup( var_0, 0, "loadoutStreakModule" + ( var_2 + 1 ) + "a", var_1 + 1 );
        case 1:
            return tablelookup( var_0, 0, "loadoutStreakModule" + ( var_2 + 1 ) + "b", var_1 + 1 );
        case 2:
            return tablelookup( var_0, 0, "loadoutStreakModule" + ( var_2 + 1 ) + "c", var_1 + 1 );
        default:
    }
}

cloneloadout()
{
    var_0 = "none";
    var_1 = self.curclass;
    var_2 = self.classcallback;
    var_3 = undefined;

    if ( var_1 == "copycat" )
    {
        var_1 = self.pers["copyCatLoadout"]["className"];
        var_3 = self.pers["copyCatLoadout"]["practiceClassNum"];

        if ( var_1 == "callback" )
            var_2 = self.pers["copyCatLoadout"]["classCallbackFunc"];
    }

    if ( issubstr( var_1, "axis" ) )
        var_0 = "axis";
    else if ( issubstr( var_1, "allies" ) )
        var_0 = "allies";

    var_4 = [];
    var_5 = [];
    var_6 = [];
    var_7 = [];

    if ( var_0 != "none" )
    {
        var_8 = maps\mp\_utility::getclassindex( var_1 );
        var_9 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "weaponSetups", 0, "weapon" );
        var_10 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "weaponSetups", 0, "attachment", 0 );
        var_11 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "weaponSetups", 0, "attachment", 1 );
        var_12 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "weaponSetups", 0, "attachment", 2 );
        var_13 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "weaponSetups", 0, "camo" );
        var_14 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "weaponSetups", 0, "reticle" );
        var_15 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "weaponSetups", 1, "weapon" );
        var_16 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "weaponSetups", 1, "attachment", 0 );
        var_17 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "weaponSetups", 1, "attachment", 1 );
        var_18 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "weaponSetups", 1, "attachment", 2 );
        var_19 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "weaponSetups", 1, "camo" );
        var_20 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "weaponSetups", 1, "reticle" );
        var_21 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "equipmentSetups", 0, "equipment" );
        var_22 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "equipmentSetups", 0, "extra" );
        var_23 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "equipmentSetups", 1, "equipment" );
        var_24 = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "equipmentSetups", 1, "extra" );

        for ( var_25 = 0; var_25 < 6; var_25++ )
            var_4[var_25] = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "perkSlots", var_25 );

        for ( var_25 = 0; var_25 < 3; var_25++ )
            var_5[var_25] = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "wildcardSlots", var_25 );

        for ( var_25 = 0; var_25 < 4; var_25++ )
        {
            var_6[var_25] = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "assaultStreaks", var_25, "streak" );
            var_7[var_25] = [];

            for ( var_26 = 0; var_26 < 3; var_26++ )
                var_7[var_25][var_26] = getmatchrulesdata( "defaultClasses", var_0, var_8, "class", "assaultStreaks", var_25, "modules", var_26 );
        }
    }
    else if ( issubstr( var_1, "custom" ) )
    {
        var_27 = maps\mp\_utility::getclassindex( var_1 );
        var_9 = cac_getweapon( var_27, 0 );
        var_10 = cac_getweaponattachment( var_27, 0 );
        var_11 = cac_getweaponattachmenttwo( var_27, 0 );
        var_12 = cac_getweaponattachmentthree( var_27, 0 );
        var_13 = cac_getweaponcamo( var_27, 0 );
        var_14 = cac_getweaponreticle( var_27, 0 );
        var_15 = cac_getweapon( var_27, 1 );
        var_16 = cac_getweaponattachment( var_27, 1 );
        var_17 = cac_getweaponattachmenttwo( var_27, 1 );
        var_18 = cac_getweaponattachmentthree( var_27, 1 );
        var_19 = cac_getweaponcamo( var_27, 1 );
        var_20 = cac_getweaponreticle( var_27, 1 );
        var_21 = cac_getequipment( var_27, 0 );
        var_22 = cac_getequipmentextra( var_27, 0 );
        var_23 = cac_getequipment( var_27, 1 );
        var_24 = cac_getequipmentextra( var_27, 1 );

        for ( var_25 = 0; var_25 < 6; var_25++ )
            var_4[var_25] = cac_getperk( var_27, var_25 );

        for ( var_25 = 0; var_25 < 3; var_25++ )
            var_5[var_25] = cac_getwildcard( var_27, var_25 );

        for ( var_25 = 0; var_25 < 4; var_25++ )
        {
            var_6[var_25] = cac_getkillstreak( var_27, var_25 );
            var_7[var_25] = [];

            for ( var_26 = 0; var_26 < 3; var_26++ )
                var_7[var_25][var_26] = cac_getkillstreakmodule( var_27, var_25, var_26 );
        }
    }
    else if ( maps\mp\_utility::practiceroundgame() && issubstr( var_1, "practice" ) )
    {
        var_27 = maps\mp\_utility::getclassindex( var_1 );

        if ( isdefined( var_3 ) )
            var_27 = var_3;
        else
        {
            var_27 = self.pers["practiceRoundClasses"][var_27];
            var_3 = var_27;
        }

        var_9 = table_getweapon( level.practiceroundclasstablename, var_27, 0 );
        var_10 = table_getweaponattachment( level.practiceroundclasstablename, var_27, 0, 0 );
        var_11 = table_getweaponattachment( level.practiceroundclasstablename, var_27, 0, 1 );
        var_12 = table_getweaponattachment( level.practiceroundclasstablename, var_27, 0, 2 );
        var_13 = table_getweaponcamo( level.practiceroundclasstablename, var_27, 0 );
        var_14 = table_getweaponreticle( level.practiceroundclasstablename, var_27, 0 );
        var_15 = table_getweapon( level.practiceroundclasstablename, var_27, 1 );
        var_16 = table_getweaponattachment( level.practiceroundclasstablename, var_27, 1, 0 );
        var_17 = table_getweaponattachment( level.practiceroundclasstablename, var_27, 1, 1 );
        var_18 = table_getweaponattachment( level.practiceroundclasstablename, var_27, 1, 2 );
        var_19 = table_getweaponcamo( level.practiceroundclasstablename, var_27, 1 );
        var_20 = table_getweaponreticle( level.practiceroundclasstablename, var_27, 1 );
        var_21 = table_getequipment( level.practiceroundclasstablename, var_27 );
        var_22 = table_getequipmentextra( level.practiceroundclasstablename, var_27 );
        var_23 = table_getoffhand( level.practiceroundclasstablename, var_27 );
        var_24 = table_getoffhandextra( level.practiceroundclasstablename, var_27 );

        for ( var_25 = 0; var_25 < 6; var_25++ )
            var_4[var_25] = table_getperk( level.practiceroundclasstablename, var_27, var_25 );

        for ( var_25 = 0; var_25 < 3; var_25++ )
            var_5[var_25] = table_getwildcard( level.practiceroundclasstablename, var_27, var_25 );

        for ( var_25 = 0; var_25 < 4; var_25++ )
        {
            var_6[var_25] = table_getkillstreak( level.practiceroundclasstablename, var_27, var_25 );
            var_7[var_25] = [];

            for ( var_26 = 0; var_26 < 3; var_26++ )
                var_7[var_25][var_26] = table_getkillstreakmodule( level.practiceroundclasstablename, var_27, var_25, var_26 );
        }
    }
    else if ( var_1 == "callback" )
    {
        if ( !isdefined( var_2 ) )
            common_scripts\utility::error( "self.classCallback function reference required for class 'callback'" );

        var_28 = [[ var_2 ]]( 1 );

        if ( !isdefined( var_28 ) )
            common_scripts\utility::error( "array required from self.classCallback for class 'callback'" );

        var_9 = var_28["loadoutPrimary"];
        var_10 = var_28["loadoutPrimaryAttachment"];
        var_11 = var_28["loadoutPrimaryAttachment2"];
        var_12 = var_28["loadoutPrimaryAttachment3"];
        var_13 = var_28["loadoutPrimaryCamo"];
        var_14 = var_28["loadoutPrimaryReticle"];

        for ( var_25 = 0; var_25 < 6; var_25++ )
            var_4[var_25] = var_28["loadoutPerk" + ( var_25 + 1 )];

        for ( var_25 = 0; var_25 < 3; var_25++ )
            var_5[var_25] = var_28["loadoutWildcard" + ( var_25 + 1 )];

        var_15 = var_28["loadoutSecondary"];
        var_16 = var_28["loadoutSecondaryAttachment"];
        var_17 = var_28["loadoutSecondaryAttachment2"];
        var_18 = var_28["loadoutSecondaryAttachment3"];
        var_19 = var_28["loadoutSecondaryCamo"];
        var_20 = var_28["loadoutSecondaryReticle"];
        var_21 = var_28["loadoutEquipment"];
        var_22 = var_28["loadoutEquipment2"] != "specialty_null";
        var_23 = var_28["loadoutOffhand"];
        var_24 = var_28["loadoutOffhand2"] != "specialty_null";

        for ( var_25 = 0; var_25 < 4; var_25++ )
        {
            var_6[var_25] = var_28["loadoutStreak" + ( var_25 + 1 )];
            var_7[var_25] = [];

            for ( var_26 = 0; var_26 < 3; var_26++ )
                var_7[var_25][var_26] = var_28["loadoutStreakModule" + ( var_25 + 1 ) + ( var_26 + 1 )];
        }
    }
    else
    {
        var_27 = maps\mp\_utility::getclassindex( var_1 );
        var_9 = table_getweapon( level.classtablename, var_27, 0 );
        var_10 = table_getweaponattachment( level.classtablename, var_27, 0, 0 );
        var_11 = table_getweaponattachment( level.classtablename, var_27, 0, 1 );
        var_12 = table_getweaponattachment( level.classtablename, var_27, 0, 2 );
        var_13 = table_getweaponcamo( level.classtablename, var_27, 0 );
        var_14 = table_getweaponreticle( level.classtablename, var_27, 0 );
        var_15 = table_getweapon( level.classtablename, var_27, 1 );
        var_16 = table_getweaponattachment( level.classtablename, var_27, 1, 0 );
        var_17 = table_getweaponattachment( level.classtablename, var_27, 1, 1 );
        var_18 = table_getweaponattachment( level.classtablename, var_27, 1, 2 );
        var_19 = table_getweaponcamo( level.classtablename, var_27, 1 );
        var_20 = table_getweaponreticle( level.classtablename, var_27, 1 );
        var_21 = table_getequipment( level.classtablename, var_27 );
        var_22 = table_getequipmentextra( level.classtablename, var_27 );
        var_23 = table_getoffhand( level.classtablename, var_27 );
        var_24 = table_getoffhandextra( level.classtablename, var_27 );

        for ( var_25 = 0; var_25 < 6; var_25++ )
            var_4[var_25] = table_getperk( level.classtablename, var_27, var_25 );

        for ( var_25 = 0; var_25 < 3; var_25++ )
            var_5[var_25] = table_getwildcard( level.classtablename, var_27, var_25 );

        for ( var_25 = 0; var_25 < 4; var_25++ )
        {
            var_6[var_25] = table_getkillstreak( level.classtablename, var_27, var_25 );
            var_7[var_25] = [];

            for ( var_26 = 0; var_26 < 3; var_26++ )
                var_7[var_25][var_26] = table_getkillstreakmodule( level.classtablename, var_27, var_25, var_26 );
        }
    }

    var_29 = [];
    var_29["inUse"] = 0;
    var_29["className"] = var_1;

    if ( isdefined( var_3 ) )
        var_29["practiceClassNum"] = var_3;

    if ( var_1 == "callback" && isdefined( var_2 ) )
        var_29["classCallbackFunc"] = var_2;

    var_29["loadoutPrimary"] = var_9;
    var_29["loadoutPrimaryAttachment"] = var_10;
    var_29["loadoutPrimaryAttachment2"] = var_11;
    var_29["loadoutPrimaryAttachment3"] = var_12;
    var_29["loadoutPrimaryCamo"] = var_13;
    var_29["loadoutPrimaryReticle"] = var_14;
    var_29["loadoutSecondary"] = var_15;
    var_29["loadoutSecondaryAttachment"] = var_16;
    var_29["loadoutSecondaryAttachment2"] = var_17;
    var_29["loadoutSecondaryAttachment3"] = var_18;
    var_29["loadoutSecondaryCamo"] = var_19;
    var_29["loadoutSecondaryReticle"] = var_20;
    var_29["loadoutEquipment"] = var_21;
    var_29["loadoutEquipmentExtra"] = var_22;
    var_29["loadoutOffhand"] = var_23;
    var_29["loadoutOffhandExtra"] = var_24;

    for ( var_25 = 0; var_25 < 6; var_25++ )
        var_29["loadoutPerks"][var_25] = var_4[var_25];

    for ( var_25 = 0; var_25 < 3; var_25++ )
        var_29["loadoutWildcards"][var_25] = var_5[var_25];

    for ( var_25 = 0; var_25 < 4; var_25++ )
    {
        var_29["loadoutKillstreaks"][var_25] = var_6[var_25];

        for ( var_26 = 0; var_26 < 3; var_26++ )
            var_29["loadoutKillstreakModules"][var_25][var_26] = var_7[var_25][var_26];
    }

    return var_29;
}

getloadout( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( var_3 ) )
        var_3 = 1;

    if ( !isdefined( var_2 ) )
        var_2 = 1;

    var_4 = 0;
    var_5 = undefined;
    var_6 = undefined;
    var_7 = undefined;
    var_8 = undefined;
    var_9 = undefined;
    var_10 = 0;
    var_11 = undefined;
    var_12 = undefined;
    var_13 = issubstr( var_1, "custom" );
    var_14 = maps\mp\_utility::practiceroundgame() && issubstr( var_1, "practice" );
    var_15 = 0;
    var_16 = [];
    var_17 = [];
    var_17[0] = "specialty_null";
    var_17[1] = "specialty_null";
    var_17[2] = "specialty_null";
    var_18 = undefined;
    var_19 = level.classpickcount;
    var_20 = var_1 == "gamemode";

    if ( issubstr( var_1, "axis" ) )
        var_21 = "axis";
    else if ( issubstr( var_1, "allies" ) )
        var_21 = "allies";
    else
        var_21 = "none";

    var_22 = [];

    if ( isdefined( self.pers["copyCatLoadout"] ) && self.pers["copyCatLoadout"]["inUse"] && var_2 )
    {
        var_15 = 1;
        var_13 = 0;
        var_14 = 0;
        var_5 = maps\mp\_utility::getclassindex( "copycat" );
        var_22 = self.pers["copyCatLoadout"];
        var_23 = var_22["loadoutPrimary"];
        var_24 = var_22["loadoutPrimaryAttachment"];
        var_25 = var_22["loadoutPrimaryAttachment2"];
        var_26 = var_22["loadoutPrimaryAttachment3"];
        var_27 = var_22["loadoutPrimaryCamo"];
        var_28 = var_22["loadoutPrimaryReticle"];
        var_29 = var_22["loadoutSecondary"];
        var_30 = var_22["loadoutSecondaryAttachment"];
        var_31 = var_22["loadoutSecondaryAttachment2"];
        var_32 = var_22["loadoutSecondaryAttachment3"];
        var_33 = var_22["loadoutSecondaryCamo"];
        var_34 = var_22["loadoutSecondaryReticle"];
        var_35 = var_22["loadoutEquipment"];
        var_36 = var_22["loadoutEquipmentExtra"];
        var_37 = var_22["loadoutOffhand"];
        var_38 = var_22["loadoutOffhandExtra"];

        for ( var_39 = 0; var_39 < 6; var_39++ )
            var_16[var_39] = var_22["loadoutPerks"][var_39];

        for ( var_39 = 0; var_39 < 3; var_39++ )
            var_17[var_39] = var_22["loadoutWildcards"][var_39];

        var_6 = var_22["loadoutKillstreaks"][0];
        var_7 = var_22["loadoutKillstreaks"][1];
        var_8 = var_22["loadoutKillstreaks"][2];
        var_9 = var_22["loadoutKillstreaks"][3];
    }
    else if ( var_21 != "none" )
    {
        var_40 = maps\mp\_utility::getclassindex( var_1 );
        var_5 = var_40;
        self.class_num = var_40;
        self.teamname = var_21;
        var_19 = 20;
        var_23 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "weaponSetups", 0, "weapon" );

        if ( var_23 == "none" )
        {
            var_23 = "iw5_combatknife";
            var_24 = "none";
            var_25 = "none";
            var_26 = "none";
        }
        else
        {
            var_24 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "weaponSetups", 0, "attachment", 0 );
            var_25 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "weaponSetups", 0, "attachment", 1 );
            var_26 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "weaponSetups", 0, "attachment", 2 );
        }

        var_27 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "weaponSetups", 0, "camo" );
        var_28 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "weaponSetups", 0, "reticle" );
        var_29 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "weaponSetups", 1, "weapon" );
        var_30 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "weaponSetups", 1, "attachment", 0 );
        var_31 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "weaponSetups", 1, "attachment", 1 );
        var_32 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "weaponSetups", 1, "attachment", 2 );
        var_33 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "weaponSetups", 1, "camo" );
        var_34 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "weaponSetups", 1, "reticle" );
        var_35 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "equipmentSetups", 0, "equipment" );
        var_36 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "equipmentSetups", 0, "extra" );
        var_37 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "equipmentSetups", 1, "equipment" );
        var_38 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "equipmentSetups", 1, "extra" );

        for ( var_39 = 0; var_39 < 6; var_39++ )
            var_16[var_39] = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "perkSlots", var_39 );

        for ( var_39 = 0; var_39 < 3; var_39++ )
            var_17[var_39] = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "wildcardSlots", var_39 );

        var_6 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "assaultStreaks", 0, "streak" );
        var_7 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "assaultStreaks", 1, "streak" );
        var_8 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "assaultStreaks", 2, "streak" );
        var_9 = getmatchrulesdata( "defaultClasses", var_21, var_40, "class", "assaultStreaks", 3, "streak" );

        if ( ( var_23 == "throwingknife" || var_23 == "none" ) && var_29 != "none" )
        {
            var_23 = var_29;
            var_24 = var_30;
            var_25 = var_31;
            var_26 = var_32;
            var_27 = var_33;
            var_28 = var_34;
            var_29 = "none";
            var_30 = "none";
            var_31 = "none";
            var_32 = "none";
            var_33 = "none";
            var_34 = "none";
        }
        else if ( ( var_23 == "throwingknife" || var_23 == "none" ) && var_29 == "none" )
        {
            var_4 = 1;
            var_23 = "iw5_usp45";
            var_24 = "tactical";
        }

        var_12 = getmatchrulesdata( "defaultClasses", var_21, var_40, "juggernaut" );
    }
    else if ( issubstr( var_1, "custom" ) )
    {
        var_5 = maps\mp\_utility::getclassindex( var_1 );
        var_19 = level.customclasspickcount;
        var_23 = cac_getweapon( var_5, 0 );
        var_24 = cac_getweaponattachment( var_5, 0 );
        var_25 = cac_getweaponattachmenttwo( var_5, 0 );
        var_26 = cac_getweaponattachmentthree( var_5, 0 );
        var_27 = cac_getweaponcamo( var_5, 0 );
        var_28 = cac_getweaponreticle( var_5, 0 );
        var_29 = cac_getweapon( var_5, 1 );
        var_30 = cac_getweaponattachment( var_5, 1 );
        var_31 = cac_getweaponattachmenttwo( var_5, 1 );
        var_32 = cac_getweaponattachmentthree( var_5, 1 );
        var_33 = cac_getweaponcamo( var_5, 1 );
        var_34 = cac_getweaponreticle( var_5, 1 );
        var_35 = cac_getequipment( var_5, 0 );
        var_36 = cac_getequipmentextra( var_5, 0 );
        var_37 = cac_getequipment( var_5, 1 );
        var_38 = cac_getequipmentextra( var_5, 1 );

        for ( var_39 = 0; var_39 < 6; var_39++ )
            var_16[var_39] = cac_getperk( var_5, var_39 );

        for ( var_39 = 0; var_39 < 3; var_39++ )
            var_17[var_39] = cac_getwildcard( var_5, var_39 );

        var_6 = cac_getkillstreak( var_5, 0 );
        var_7 = cac_getkillstreak( var_5, 1 );
        var_8 = cac_getkillstreak( var_5, 2 );
        var_9 = cac_getkillstreak( var_5, 3 );
    }
    else if ( maps\mp\_utility::practiceroundgame() && issubstr( var_1, "practice" ) )
    {
        var_5 = maps\mp\_utility::getclassindex( var_1 );
        var_5 = self.pers["practiceRoundClasses"][var_5];
        var_23 = table_getweapon( level.practiceroundclasstablename, var_5, 0 );
        var_24 = table_getweaponattachment( level.practiceroundclasstablename, var_5, 0, 0 );
        var_25 = table_getweaponattachment( level.practiceroundclasstablename, var_5, 0, 1 );
        var_26 = table_getweaponattachment( level.practiceroundclasstablename, var_5, 0, 2 );
        var_27 = table_getweaponcamo( level.practiceroundclasstablename, var_5, 0 );
        var_28 = table_getweaponreticle( level.practiceroundclasstablename, var_5, 0 );
        var_29 = table_getweapon( level.practiceroundclasstablename, var_5, 1 );
        var_30 = table_getweaponattachment( level.practiceroundclasstablename, var_5, 1, 0 );
        var_31 = table_getweaponattachment( level.practiceroundclasstablename, var_5, 1, 1 );
        var_32 = table_getweaponattachment( level.practiceroundclasstablename, var_5, 1, 2 );
        var_33 = table_getweaponcamo( level.practiceroundclasstablename, var_5, 1 );
        var_34 = table_getweaponreticle( level.practiceroundclasstablename, var_5, 1 );
        var_35 = table_getequipment( level.practiceroundclasstablename, var_5 );
        var_36 = table_getequipmentextra( level.practiceroundclasstablename, var_5 );
        var_37 = table_getoffhand( level.practiceroundclasstablename, var_5 );
        var_38 = table_getoffhandextra( level.practiceroundclasstablename, var_5 );

        for ( var_39 = 0; var_39 < 6; var_39++ )
            var_16[var_39] = table_getperk( level.practiceroundclasstablename, var_5, var_39 );

        for ( var_39 = 0; var_39 < 3; var_39++ )
            var_17[var_39] = table_getwildcard( level.practiceroundclasstablename, var_5, var_39 );

        var_6 = table_getkillstreak( level.practiceroundclasstablename, var_5, 0 );
        var_7 = table_getkillstreak( level.practiceroundclasstablename, var_5, 1 );
        var_8 = table_getkillstreak( level.practiceroundclasstablename, var_5, 2 );
        var_9 = table_getkillstreak( level.practiceroundclasstablename, var_5, 3 );
    }
    else if ( issubstr( var_1, "lobby" ) )
    {
        var_5 = maps\mp\_utility::getclassindex( var_1 );
        var_41 = maps\mp\_utility::cac_getcustomclassloc();
        var_42 = self.loadouts[var_41][var_5];
        var_23 = var_42["primary"];
        var_24 = var_42["primaryAttachment1"];
        var_25 = var_42["primaryAttachment2"];
        var_26 = var_42["primaryAttachment3"];
        var_27 = var_42["primaryCamo"];
        var_28 = var_42["primaryReticle"];

        for ( var_39 = 0; var_39 < 6; var_39++ )
            var_16[var_39] = var_42["perk" + var_39];

        var_35 = var_42["equipment"];
        var_37 = var_42["offhand"];
        var_36 = 0;
        var_38 = 0;

        for ( var_39 = 0; var_39 < 3; var_39++ )
        {
            var_17[var_39] = var_42["wildcard" + var_39];

            if ( var_17[var_39] == "specialty_wildcard_duallethals" )
                var_36 = 1;
        }

        var_29 = var_42["secondary"];
        var_30 = var_42["secondaryAttachment1"];
        var_31 = var_42["secondaryAttachment2"];
        var_32 = var_42["secondaryAttachment3"];
        var_33 = var_42["secondaryCamo"];
        var_34 = var_42["secondaryReticle"];
    }
    else if ( var_20 )
    {
        var_43 = self.pers["gamemodeLoadout"];
        var_23 = var_43["loadoutPrimary"];
        var_24 = var_43["loadoutPrimaryAttachment"];
        var_25 = var_43["loadoutPrimaryAttachment2"];
        var_26 = var_43["loadoutPrimaryAttachment3"];
        var_27 = var_43["loadoutPrimaryCamo"];
        var_28 = var_43["loadoutPrimaryReticle"];

        for ( var_39 = 0; var_39 < 6; var_39++ )
            var_16[var_39] = var_43["loadoutPerks"][var_39];

        for ( var_39 = 0; var_39 < 3; var_39++ )
            var_17[var_39] = var_43["loadoutWildcards"][var_39];

        var_29 = var_43["loadoutSecondary"];
        var_30 = var_43["loadoutSecondaryAttachment"];
        var_31 = var_43["loadoutSecondaryAttachment2"];
        var_32 = var_43["loadoutSecondaryAttachment3"];
        var_33 = var_43["loadoutSecondaryCamo"];
        var_34 = var_43["loadoutSecondaryReticle"];
        var_35 = var_43["loadoutEquipment"];
        var_36 = var_43["loadoutEquipmentExtra"];
        var_37 = var_43["loadoutOffhand"];
        var_38 = var_43["loadoutOffhandExtra"];

        if ( var_37 == "specialty_null" )
            var_37 = "none";

        if ( level.killstreakrewards )
        {
            var_44 = 1;

            if ( isdefined( self.gamemode_carrierclass ) && self.gamemode_carrierclass )
            {
                var_45 = 1;

                foreach ( var_47 in var_43["loadoutKillstreaks"] )
                {
                    if ( var_47 != "none" && var_47 != "" )
                    {
                        var_45 = 0;
                        break;
                    }
                }

                if ( var_45 )
                {
                    var_44 = 0;
                    var_10 = 1;
                }
            }

            if ( var_44 )
            {
                var_6 = var_43["loadoutKillstreaks"][0];
                var_7 = var_43["loadoutKillstreaks"][1];
                var_8 = var_43["loadoutKillstreaks"][2];
                var_9 = var_43["loadoutKillstreaks"][3];
            }
        }
        else
        {
            var_6 = "none";
            var_7 = "none";
            var_8 = "none";
            var_9 = "none";
        }

        var_12 = var_43["loadoutJuggernaut"];
    }
    else if ( issubstr( var_1, "juggernaut_exosuit" ) )
    {
        if ( var_1 == "juggernaut_exosuit_maniac" )
        {
            var_23 = "iw5_mechpunch";
            var_24 = "none";
            var_29 = "iw5_mechpunch";
            var_35 = "exoknife_jug_mp";
        }
        else
        {
            var_23 = "iw5_exominigun";
            var_24 = "none";
            var_29 = "none";
            var_35 = "frag_grenade_mp";
        }

        var_25 = "none";
        var_26 = "none";
        var_27 = "none";
        var_28 = "none";
        var_16[0] = "specialty_class_fasthands";
        var_16[1] = "specialty_null";
        var_16[2] = "specialty_null";
        var_16[3] = "specialty_null";
        var_16[4] = "specialty_null";
        var_16[5] = "specialty_null";
        var_17[0] = "specialty_null";
        var_17[1] = "specialty_null";
        var_17[2] = "specialty_null";
        var_30 = "none";
        var_31 = "none";
        var_32 = "none";
        var_33 = "none";
        var_34 = "none";
        var_36 = 0;
        var_37 = "none";
        var_38 = 0;
    }
    else if ( var_1 == "minion" )
    {
        var_23 = "iw5_titan45_mp";
        var_24 = "none";
        var_29 = "none";
        var_35 = "none";
        var_25 = "none";
        var_26 = "none";
        var_27 = "none";
        var_28 = "none";
        var_16[0] = "specialty_null";
        var_16[1] = "specialty_null";
        var_16[2] = "specialty_null";
        var_16[3] = "specialty_null";
        var_16[4] = "specialty_null";
        var_16[5] = "specialty_null";
        var_17[0] = "specialty_null";
        var_17[1] = "specialty_null";
        var_17[2] = "specialty_null";
        var_30 = "none";
        var_31 = "none";
        var_32 = "none";
        var_33 = "none";
        var_34 = "none";
        var_36 = 0;
        var_37 = "none";
        var_38 = 0;
    }
    else if ( var_1 == "callback" )
    {
        var_19 = level.customclasspickcount;

        if ( !isdefined( self.classcallback ) )
            common_scripts\utility::error( "self.classCallback function reference required for class 'callback'" );

        var_49 = [[ self.classcallback ]]();

        if ( !isdefined( var_49 ) )
            common_scripts\utility::error( "array required from self.classCallback for class 'callback'" );

        var_23 = var_49["loadoutPrimary"];
        var_24 = var_49["loadoutPrimaryAttachment"];
        var_25 = var_49["loadoutPrimaryAttachment2"];
        var_26 = var_49["loadoutPrimaryAttachment3"];
        var_27 = var_49["loadoutPrimaryCamo"];
        var_28 = var_49["loadoutPrimaryReticle"];

        for ( var_39 = 0; var_39 < 6; var_39++ )
            var_16[var_39] = var_49["loadoutPerk" + ( var_39 + 1 )];

        for ( var_39 = 0; var_39 < 3; var_39++ )
            var_17[var_39] = var_49["loadoutWildcard" + ( var_39 + 1 )];

        var_29 = var_49["loadoutSecondary"];
        var_30 = var_49["loadoutSecondaryAttachment"];
        var_31 = var_49["loadoutSecondaryAttachment2"];
        var_32 = var_49["loadoutSecondaryAttachment3"];
        var_33 = var_49["loadoutSecondaryCamo"];
        var_34 = var_49["loadoutSecondaryReticle"];
        var_35 = var_49["loadoutEquipment"];
        var_36 = var_49["loadoutEquipment2"] != "specialty_null";
        var_37 = var_49["loadoutOffhand"];
        var_38 = var_49["loadoutOffhand2"] != "specialty_null";
        var_6 = var_49["loadoutStreak1"];
        var_7 = var_49["loadoutStreak2"];
        var_8 = var_49["loadoutStreak3"];
        var_9 = var_49["loadoutStreak4"];
        var_50 = [ "a", "b", "c" ];

        for ( var_39 = 0; var_39 < 4; var_39++ )
        {
            var_18[var_39] = [];

            for ( var_51 = 0; var_51 < 3; var_51++ )
                var_18[var_39][var_51] = var_49["loadoutStreakModule" + ( var_39 + 1 ) + var_50[var_51]];
        }
    }
    else
    {
        var_5 = maps\mp\_utility::getclassindex( var_1 );
        var_23 = table_getweapon( level.classtablename, var_5, 0 );
        var_24 = table_getweaponattachment( level.classtablename, var_5, 0, 0 );
        var_25 = table_getweaponattachment( level.classtablename, var_5, 0, 1 );
        var_26 = table_getweaponattachment( level.classtablename, var_5, 0, 2 );
        var_27 = table_getweaponcamo( level.classtablename, var_5, 0 );
        var_28 = table_getweaponreticle( level.classtablename, var_5, 0 );

        for ( var_39 = 0; var_39 < 6; var_39++ )
            var_16[var_39] = table_getperk( level.classtablename, var_5, var_39 );

        for ( var_39 = 0; var_39 < 3; var_39++ )
            var_17[var_39] = table_getwildcard( level.classtablename, var_5, var_39 );

        var_29 = table_getweapon( level.classtablename, var_5, 1 );
        var_30 = table_getweaponattachment( level.classtablename, var_5, 1, 0 );
        var_31 = table_getweaponattachment( level.classtablename, var_5, 1, 1 );
        var_32 = table_getweaponattachment( level.classtablename, var_5, 1, 2 );
        var_33 = table_getweaponcamo( level.classtablename, var_5, 1 );
        var_34 = table_getweaponreticle( level.classtablename, var_5, 1 );
        var_35 = table_getequipment( level.classtablename, var_5 );
        var_36 = table_getequipmentextra( level.classtablename, var_5 );
        var_37 = table_getoffhand( level.classtablename, var_5 );
        var_38 = table_getoffhandextra( level.classtablename, var_5 );
        var_6 = table_getkillstreak( level.classtablename, var_5, 0 );
        var_7 = table_getkillstreak( level.classtablename, var_5, 1 );
        var_8 = table_getkillstreak( level.classtablename, var_5, 2 );
        var_9 = table_getkillstreak( level.classtablename, var_5, 3 );

        if ( !isdefined( var_6 ) || var_6 == "" )
            var_6 = "none";

        if ( !isdefined( var_7 ) || var_7 == "" )
            var_7 = "none";

        if ( !isdefined( var_8 ) || var_8 == "" )
            var_8 = "none";

        if ( !isdefined( var_9 ) || var_9 == "" )
            var_9 = "none";
    }

    var_52 = issubstr( var_1, "custom" ) || issubstr( var_1, "lobby" );
    var_53 = issubstr( var_1, "recipe" );
    var_54 = 0;

    if ( level.killstreakrewards && !isdefined( var_6 ) && !isdefined( var_7 ) && !isdefined( var_8 ) && !isdefined( var_9 ) )
    {
        if ( !issubstr( var_1, "juggernaut" ) && var_1 != "minion" )
        {
            var_5 = maps\mp\_utility::getclassindex( var_1 );

            if ( isdefined( self.class_num ) )
                var_5 = self.class_num;
        }
        else
            var_5 = 0;

        var_56 = undefined;
        var_57 = undefined;
        var_58 = undefined;
        var_59 = undefined;
        var_11 = "assaultStreaks";
        var_56 = table_getkillstreak( level.classtablename, var_5, 0 );
        var_57 = table_getkillstreak( level.classtablename, var_5, 1 );
        var_58 = table_getkillstreak( level.classtablename, var_5, 2 );
        var_59 = table_getkillstreak( level.classtablename, var_5, 3 );
        var_6 = undefined;
        var_7 = undefined;
        var_8 = undefined;
        var_9 = undefined;

        if ( var_13 )
        {
            var_6 = self getcacplayerdata( self.class_num, var_11, 0, "streak" );
            var_7 = self getcacplayerdata( self.class_num, var_11, 1, "streak" );
            var_8 = self getcacplayerdata( self.class_num, var_11, 2, "streak" );
            var_9 = self getcacplayerdata( self.class_num, var_11, 3, "streak" );
        }

        if ( issubstr( var_1, "juggernaut" ) || var_20 )
        {
            foreach ( var_47 in self.killstreaks )
            {
                if ( !isdefined( var_6 ) )
                {
                    var_6 = var_47;
                    continue;
                }

                if ( !isdefined( var_7 ) )
                {
                    var_7 = var_47;
                    continue;
                }

                if ( !isdefined( var_8 ) )
                {
                    var_8 = var_47;
                    continue;
                }

                if ( !isdefined( var_9 ) )
                    var_9 = var_47;
            }
        }

        if ( !issubstr( var_1, "custom" ) && !issubstr( var_1, "juggernaut" ) && !var_20 && var_1 != "minion" )
        {
            var_6 = var_56;
            var_7 = var_57;
            var_8 = var_58;
            var_9 = var_59;
        }

        if ( !isdefined( var_6 ) || var_6 == "" )
            var_6 = "none";

        if ( !isdefined( var_7 ) || var_7 == "" )
            var_7 = "none";

        if ( !isdefined( var_8 ) || var_8 == "" )
            var_8 = "none";

        if ( !isdefined( var_9 ) || var_9 == "" )
            var_9 = "none";

        if ( !isvalidkillstreak( var_6 ) || var_52 && !self isitemunlocked( var_6 ) )
            var_6 = table_getkillstreak( level.classtablename, 0, 0 );

        if ( !isvalidkillstreak( var_7 ) || var_52 && !self isitemunlocked( var_7 ) )
            var_7 = table_getkillstreak( level.classtablename, 0, 1 );

        if ( !isvalidkillstreak( var_8 ) || var_52 && !self isitemunlocked( var_8 ) )
            var_8 = table_getkillstreak( level.classtablename, 0, 2 );

        if ( !isvalidkillstreak( var_9 ) || var_52 && !self isitemunlocked( var_9 ) )
            var_9 = table_getkillstreak( level.classtablename, 0, 3 );
    }
    else if ( !level.killstreakrewards )
    {
        var_6 = "none";
        var_7 = "none";
        var_8 = "none";
        var_9 = "none";
    }

    var_32 = "none";
    var_62 = tablelookup( "mp/statstable.csv", 4, var_23, 40 );
    var_63 = tablelookup( "mp/statstable.csv", 4, var_29, 40 );
    var_64 = 0;

    if ( var_23 != "iw5_combatknife" )
        var_64++;

    if ( var_24 != "none" && var_62 == "" )
        var_64++;

    if ( var_25 != "none" )
        var_64++;

    if ( var_26 != "none" )
        var_64++;

    if ( var_29 != "iw5_combatknife" )
        var_64++;

    if ( var_30 != "none" && var_63 == "" )
        var_64++;

    if ( var_31 != "none" )
        var_64++;

    if ( var_32 != "none" )
        var_64++;

    if ( var_35 != "specialty_null" )
        var_64++;

    if ( isdefined( var_36 ) && var_36 )
        var_64++;

    if ( var_37 != "specialty_null" )
        var_64++;

    if ( isdefined( var_38 ) && var_38 )
        var_64++;

    for ( var_39 = 0; var_39 < 6; var_39++ )
    {
        if ( var_16[var_39] != "specialty_null" )
            var_64++;
    }

    for ( var_39 = 0; var_39 < 3; var_39++ )
    {
        if ( var_17[var_39] != "specialty_null" )
            var_64++;
    }

    if ( var_6 != "none" )
        var_64++;

    if ( var_7 != "none" )
        var_64++;

    if ( var_8 != "none" )
        var_64++;

    if ( var_9 != "none" )
        var_64++;

    if ( var_64 > var_19 )
    {
        for (;;)
        {
            if ( var_9 != "none" )
            {
                var_9 = "none";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_8 != "none" )
            {
                var_8 = "none";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_7 != "none" )
            {
                var_7 = "none";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_6 != "none" )
            {
                var_6 = "none";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_16[5] != "specialty_null" )
            {
                var_16[5] = "specialty_null";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_16[4] != "specialty_null" )
            {
                var_16[4] = "specialty_null";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_16[3] != "specialty_null" )
            {
                var_16[3] = "specialty_null";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_16[2] != "specialty_null" )
            {
                var_16[2] = "specialty_null";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_16[1] != "specialty_null" )
            {
                var_16[1] = "specialty_null";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_16[0] != "specialty_null" )
            {
                var_16[0] = "specialty_null";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( isdefined( var_38 ) && var_38 )
            {
                var_38 = 0;
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_37 != "specialty_null" )
            {
                var_37 = "specialty_null";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( isdefined( var_36 ) && var_36 )
            {
                var_36 = 0;
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_35 != "specialty_null" )
            {
                var_35 = "specialty_null";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_32 != "none" )
            {
                var_32 = "none";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_31 != "none" )
            {
                var_31 = "none";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_30 != "none" && var_63 == "" )
            {
                var_30 = "none";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_29 != "iw5_combatknife" )
            {
                var_29 = "iw5_combatknife";
                var_30 = "none";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_26 != "none" )
            {
                var_26 = "none";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_25 != "none" )
            {
                var_25 = "none";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_24 != "none" && var_62 == "" )
            {
                var_24 = "none";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_23 != "iw5_combatknife" )
            {
                var_23 = "iw5_combatknife";
                var_24 = "none";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_17[2] != "specialty_null" )
            {
                var_17[2] = "specialty_null";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_17[1] != "specialty_null" )
            {
                var_17[1] = "specialty_null";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            if ( var_17[0] != "specialty_null" )
            {
                var_17[0] = "specialty_null";
                var_64--;

                if ( var_64 == var_19 )
                    break;
            }

            break;
        }
    }

    for ( var_39 = 0; var_39 < 3; var_39++ )
    {
        if ( getdvarint( "scr_game_perks" ) == 0 )
            var_17[var_39] = "specialty_null";
    }

    var_65 = [];
    var_65["specialty_wildcard_perkslot1"] = 0;
    var_65["specialty_wildcard_perkslot2"] = 0;
    var_65["specialty_wildcard_perkslot3"] = 0;
    var_65["specialty_wildcard_primaryattachment"] = 0;
    var_65["specialty_wildcard_secondaryattachment"] = 0;
    var_65["specialty_wildcard_dualprimaries"] = 0;
    var_65["specialty_wildcard_dualtacticals"] = 0;
    var_65["specialty_wildcard_duallethals"] = 0;
    var_65["specialty_wildcard_extrastreak"] = 0;

    for ( var_39 = 0; var_39 < 3; var_39++ )
        var_65[var_17[var_39]] = 1;

    if ( !var_65["specialty_wildcard_extrastreak"] )
        var_9 = "none";

    if ( !var_65["specialty_wildcard_perkslot1"] )
        var_16[1] = "specialty_null";

    if ( !var_65["specialty_wildcard_perkslot2"] )
        var_16[3] = "specialty_null";

    if ( !var_65["specialty_wildcard_perkslot3"] )
        var_16[5] = "specialty_null";

    if ( !var_65["specialty_wildcard_primaryattachment"] )
        var_26 = "none";

    if ( !var_65["specialty_wildcard_secondaryattachment"] )
        var_31 = "none";

    if ( !var_20 && !var_53 && !( isdefined( self.pers["copyCatLoadout"] ) && self.pers["copyCatLoadout"]["inUse"] && var_2 ) )
    {
        if ( !isvalidprimary( var_23 ) || level.rankedmatch && var_52 && !self isitemunlocked( var_23 ) && !var_54 )
        {
            var_23 = table_getweapon( level.classtablename, 10, 0 );
            var_24 = "none";
            var_25 = "none";
            var_26 = "none";
        }

        if ( var_62 != "" )
            var_24 = var_62;
        else if ( !isvalidattachment( var_24, var_23 ) || level.rankedmatch && var_52 && !isattachmentunlocked( var_23, var_24 ) && !var_54 )
            var_24 = table_getweaponattachment( level.classtablename, 10, 0, 0 );

        if ( !isvalidattachment( var_25, var_23 ) || level.rankedmatch && var_52 && !isattachmentunlocked( var_23, var_25 ) && !var_54 )
            var_25 = table_getweaponattachment( level.classtablename, 10, 0, 1 );

        if ( !isvalidattachment( var_26, var_23 ) || level.rankedmatch && var_52 && !isattachmentunlocked( var_23, var_26 ) && !var_54 )
            var_26 = table_getweaponattachment( level.classtablename, 10, 0, 2 );

        var_66 = [];
        var_66[var_66.size] = var_24;
        var_66[var_66.size] = var_25;
        var_66[var_66.size] = var_26;

        for ( var_67 = 0; var_67 < var_66.size; var_67++ )
        {
            if ( var_66[var_67] == "none" )
                continue;

            for ( var_68 = var_67 + 1; var_68 < var_66.size; var_68++ )
            {
                if ( var_66[var_68] == "none" )
                    continue;

                if ( var_66[var_67] == var_66[var_68] )
                {
                    recordvalidationinfraction();
                    var_66[var_68] = "none";

                    if ( var_68 == 1 )
                    {
                        var_25 = "none";
                        continue;
                    }

                    if ( var_68 == 2 )
                    {
                        var_26 = "none";
                        continue;
                    }
                }
            }
        }

        if ( !isvalidcamo( var_27 ) || level.rankedmatch && var_52 && !iscamounlocked( var_23, var_27 ) && !var_54 )
            var_27 = table_getweaponcamo( level.classtablename, 10, 0 );

        if ( !isvalidreticle( var_28 ) )
            var_28 = table_getweaponreticle( level.classtablenum, 10, 0 );

        if ( !isvalidsecondary( var_29, var_65["specialty_wildcard_dualprimaries"] ) || level.rankedmatch && var_52 && !self isitemunlocked( var_29 ) && !var_54 )
        {
            var_29 = table_getweapon( level.classtablename, 10, 1 );
            var_30 = "none";
            var_31 = "none";
            var_33 = "none";
            var_34 = "none";
        }

        if ( var_63 != "" )
            var_30 = var_63;
        else if ( !isvalidattachment( var_30, var_29 ) || level.rankedmatch && var_52 && !isattachmentunlocked( var_29, var_30 ) && !var_54 )
            var_30 = table_getweaponattachment( level.classtablename, 10, 1, 0 );

        if ( !isvalidattachment( var_31, var_29 ) || level.rankedmatch && var_52 && !isattachmentunlocked( var_29, var_31 ) && !var_54 )
            var_31 = table_getweaponattachment( level.classtablename, 10, 1, 1 );

        if ( var_30 != "none" )
        {
            if ( var_30 == var_31 )
            {
                recordvalidationinfraction();
                var_31 = "none";
            }
        }

        if ( !isvalidcamo( var_33 ) || level.rankedmatch && var_52 && !iscamounlocked( var_29, var_33 ) && !var_54 )
            var_33 = table_getweaponcamo( level.classtablename, 10, 1 );

        if ( !isvalidreticle( var_34 ) )
            var_34 = table_getweaponreticle( level.classtablename, 10, 1 );

        if ( !isvalidequipment( var_35, var_65["specialty_wildcard_dualtacticals"] ) || level.rankedmatch && var_52 && !self isitemunlocked( var_35 ) && !var_54 )
            var_35 = table_getequipment( level.classtablename, 10 );

        if ( var_35 == var_37 )
            var_35 = "specialty_null";

        if ( !isvalidoffhand( var_37, var_65["specialty_wildcard_duallethals"] ) )
            var_37 = table_getoffhand( level.classtablename, 10 );
    }

    if ( var_65["specialty_wildcard_duallethals"] && var_37 != "specialty_null" )
        var_37 += "_lefthand";

    for ( var_39 = 0; var_39 < 6; var_39++ )
    {
        if ( var_16[var_39] == "specialty_null" )
            continue;

        var_69 = var_16[var_39];
        var_16[var_39] = maps\mp\perks\_perks::validateperk( var_39, var_16[var_39] );

        if ( var_69 != var_16[var_39] )
            recordvalidationinfraction();
    }

    var_42 = spawnstruct();
    var_42.class = var_1;
    var_42.class_num = var_5;
    var_42.teamname = var_21;
    var_42.clearammo = var_4;
    var_42.copycatloadout = var_15;
    var_42.cacloadout = var_13;
    var_42.practiceloadout = var_14;
    var_42.isgamemodeclass = var_20;
    var_42.primary = var_23;
    var_42.primaryattachment = var_24;
    var_42.primaryattachment2 = var_25;
    var_42.primaryattachment3 = var_26;
    var_42.primarycamo = var_27;
    var_42.primaryreticle = var_28;
    var_27 = int( tablelookup( "mp/camoTable.csv", 1, var_42.primarycamo, 0 ) );
    var_28 = int( tablelookup( "mp/reticleTable.csv", 1, var_42.primaryreticle, 0 ) );
    var_42.primaryname = buildweaponname( var_42.primary, var_42.primaryattachment, var_42.primaryattachment2, var_42.primaryattachment3, var_27, var_28 );
    var_42.secondary = var_29;
    var_42.secondaryattachment = var_30;
    var_42.secondaryattachment2 = var_31;
    var_42.secondaryattachment3 = "none";
    var_42.secondarycamo = var_33;
    var_42.secondaryreticle = var_34;
    var_33 = int( tablelookup( "mp/camoTable.csv", 1, var_42.secondarycamo, 0 ) );
    var_34 = int( tablelookup( "mp/reticleTable.csv", 1, var_42.secondaryreticle, 0 ) );
    var_42.secondaryname = buildweaponname( var_42.secondary, var_42.secondaryattachment, var_42.secondaryattachment2, var_42.secondaryattachment3, var_33, var_34 );
    var_42.equipment = var_35;
    var_42.equipmentextra = var_36;
    var_42.offhand = var_37;
    var_42.offhandextra = var_38;
    var_42.perks = var_16;
    var_42.killstreak1 = var_6;
    var_42.killstreak2 = var_7;
    var_42.killstreak3 = var_8;
    var_42.killstreak4 = var_9;
    var_42.loadoutkillstreakmodules = var_18;
    var_42.keepcurrentkillstreaks = var_10;
    var_42.wildcards = var_17;
    var_42.wildcardsowned = var_65;
    var_42.juggernaut = var_12;
    var_42.setprimaryspawnweapon = var_3;
    return var_42;
}

giveloadout( var_0, var_1, var_2, var_3 )
{
    self.loadout = getloadout( var_0, var_1, var_2, var_3 );
}

applyloadout()
{
    var_0 = self.loadout;

    if ( !isdefined( self.loadout ) )
        return;

    self.loadout = undefined;
    self.spectatorviewloadout = var_0;
    self takeallweapons();
    maps\mp\_utility::_clearperks();
    _detachall();
    self.changingweapon = undefined;

    if ( var_0.copycatloadout )
        setclass( "copycat" );

    self.class_num = var_0.class_num;
    self.loadoutwildcards = var_0.wildcards;
    self.loadoutprimary = var_0.primary;
    self.loadoutprimarycamo = int( tablelookup( "mp/camoTable.csv", 1, var_0.primarycamo, 0 ) );
    self.loadoutsecondary = var_0.secondary;
    self.loadoutsecondarycamo = int( tablelookup( "mp/camoTable.csv", 1, var_0.secondarycamo, 0 ) );

    if ( !issubstr( var_0.primary, "iw5" ) )
        self.loadoutprimarycamo = 0;

    if ( !issubstr( var_0.secondary, "iw5" ) )
        self.loadoutsecondarycamo = 0;

    self.loadoutprimaryreticle = int( tablelookup( "mp/reticleTable.csv", 1, var_0.primaryreticle, 0 ) );
    self.loadoutsecondaryreticle = int( tablelookup( "mp/reticleTable.csv", 1, var_0.secondaryreticle, 0 ) );

    if ( !issubstr( var_0.primary, "iw5" ) )
        self.loadoutprimaryreticle = 0;

    if ( !issubstr( var_0.secondary, "iw5" ) )
        self.loadoutsecondaryreticle = 0;

    if ( isdefined( var_0.juggernaut ) && var_0.juggernaut )
    {
        self.health = self.maxhealth;
        thread maps\mp\_utility::recipeclassapplyjuggernaut( maps\mp\_utility::isjuggernaut() );
        self.isjuggernaut = 1;
        self.juggmovespeedscaler = 0.7;
    }
    else if ( maps\mp\_utility::isjuggernaut() )
    {
        self notify( "lost_juggernaut" );
        self.isjuggernaut = 0;
        self.movespeedscaler = level.baseplayermovescale;
    }

    var_1 = var_0.secondaryname;

    if ( var_1 != "none" )
        maps\mp\_utility::_giveweapon( var_1 );

    if ( var_0.wildcardsowned["specialty_wildcard_dualtacticals"] )
        maps\mp\_utility::giveperk( "specialty_wildcard_dualtacticals", 0 );

    if ( var_0.wildcardsowned["specialty_wildcard_duallethals"] && !maps\mp\_utility::isgrapplinghookgamemode() )
        maps\mp\_utility::giveperk( "specialty_wildcard_duallethals", 0 );

    if ( level.diehardmode )
        maps\mp\_utility::giveperk( "specialty_pistoldeath", 0 );

    loadoutallperks( var_0.equipment, var_0.perks );
    maps\mp\perks\_perks::applyperks();
    givedefaultperks();
    self setlethalweapon( var_0.equipment );

    if ( var_0.equipment != "specialty_null" && self hasweapon( var_0.equipment ) )
    {
        var_2 = self getweaponammoclip( var_0.equipment );
        self setweaponammoclip( var_0.equipment, var_2 + 1 );
    }
    else
        giveoffhand( var_0.equipment );

    if ( isdefined( var_0.equipmentextra ) && var_0.equipmentextra )
    {
        maps\mp\_utility::giveperk( "specialty_extralethal", 0 );
        var_2 = self getweaponammoclip( var_0.equipment );
        self setweaponammoclip( var_0.equipment, var_2 + 1 );
    }

    var_3 = var_0.primaryname;
    maps\mp\_utility::_giveweapon( var_3 );

    if ( !isai( self ) )
        self switchtoweapon( var_3 );

    if ( var_3 == "riotshield_mp" && level.ingraceperiod )
        self notify( "weapon_change", "riotshield_mp" );

    if ( var_0.setprimaryspawnweapon )
        self setspawnweapon( maps\mp\_utility::get_spawn_weapon_name( var_0 ) );

    self.pers["primaryWeapon"] = maps\mp\_utility::getbaseweaponname( var_3 );
    self.loadoutoffhand = var_0.offhand;
    self settacticalweapon( var_0.offhand );
    giveoffhand( var_0.offhand );

    if ( isdefined( var_0.offhandextra ) && var_0.offhandextra )
    {
        maps\mp\_utility::giveperk( "specialty_extratactical", 0 );
        var_2 = self getweaponammoclip( var_0.offhand );
        self setweaponammoclip( var_0.offhand, var_2 + 1 );
    }

    thread loadouttrackvariablegrenades( var_0.class, var_0.equipment, var_0.offhand );
    var_4 = var_3;
    self.primaryweapon = var_4;
    self.secondaryweapon = var_1;

    if ( var_0.clearammo )
    {
        self setweaponammoclip( self.primaryweapon, 0 );
        self setweaponammostock( self.primaryweapon, 0 );
    }

    self.issniper = weaponclass( self.primaryweapon ) == "sniper";
    maps\mp\_utility::_setactionslot( 1, "" );
    maps\mp\_utility::_setactionslot( 3, "altMode" );
    maps\mp\_utility::_setactionslot( 4, "" );

    if ( !level.console )
    {
        maps\mp\_utility::_setactionslot( 5, "" );
        maps\mp\_utility::_setactionslot( 6, "" );
        maps\mp\_utility::_setactionslot( 7, "" );
        maps\mp\_utility::_setactionslot( 8, "" );
    }

    if ( maps\mp\_utility::_hasperk( "specialty_extraammo" ) )
    {
        var_5 = self setweaponammostock( var_3 );
        self setweaponammostock( var_3, var_5 * 2 );

        if ( var_1 != "none" && maps\mp\_utility::getweaponclass( var_1 ) != "weapon_projectile" )
        {
            var_5 = self setweaponammostock( var_1 );
            self setweaponammostock( var_1, var_5 * 2 );
        }
    }

    if ( !maps\mp\_utility::invirtuallobby() )
    {
        if ( !issubstr( var_0.class, "juggernaut" ) )
            setkillstreaks( var_0.killstreak1, var_0.killstreak2, var_0.killstreak3, var_0.killstreak4, var_0.cacloadout, var_0.practiceloadout, var_0.copycatloadout, var_0.isgamemodeclass, var_0.teamname, var_0.loadoutkillstreakmodules );

        var_6 = 1;

        if ( var_0.keepcurrentkillstreaks )
            var_6 = 0;
        else if ( isagent( self ) )
            var_6 = 0;
        else if ( !isdefined( self.lastclass ) )
            var_6 = 0;
        else if ( !isbot( self ) && self.lastclass == self.class && !( isdefined( self.gamemode_carrierclass ) && self.gamemode_carrierclass ) )
            var_6 = 0;
        else if ( isbot( self ) && self.bot_last_loadout_num == self.bot_cur_loadout_num )
            var_6 = 0;
        else if ( issubstr( self.class, "juggernaut" ) || issubstr( self.lastclass, "juggernaut" ) || issubstr( var_0.class, "juggernaut" ) )
            var_6 = 0;

        var_0.keepcurrentkillstreaks = !var_6;

        if ( var_6 )
        {
            if ( maps\mp\_utility::wasonlyround() || self.lastclass != "" )
            {
                var_7 = [];
                var_8 = [];
                var_9 = 0;
                var_10 = self.pers["killstreaks"];

                if ( var_10.size > level.killstreak_stacking_start_slot )
                {
                    for ( var_11 = level.killstreak_stacking_start_slot; var_11 < var_10.size; var_11++ )
                    {
                        var_7[var_9] = var_10[var_11].streakname;
                        var_8[var_9] = var_10[var_11].modules;
                        var_9++;
                    }
                }

                if ( var_10.size )
                {
                    for ( var_11 = level.killstreak_slot_1; var_11 < level.killstreak_stacking_start_slot; var_11++ )
                    {
                        if ( isdefined( var_10[var_11] ) && isdefined( var_10[var_11].streakname ) && var_10[var_11].available )
                        {
                            var_7[var_9] = var_10[var_11].streakname;
                            var_8[var_9] = var_10[var_11].modules;
                            var_9++;
                        }
                    }
                }

                self notify( "givingLoadout" );
                maps\mp\killstreaks\_killstreaks::clearkillstreaks( 1 );

                for ( var_11 = 0; var_11 < var_7.size; var_11++ )
                    maps\mp\killstreaks\_killstreaks::givekillstreak( var_7[var_11], undefined, undefined, undefined, var_8[var_11] );
            }
        }

        self.loadoutkeepcurrentkillstreaks = var_0.keepcurrentkillstreaks;
    }

    if ( !issubstr( var_0.class, "juggernaut" ) )
    {
        if ( isdefined( self.lastclass ) && self.lastclass != "" && self.lastclass != self.class )
            self notify( "changed_class" );

        self.pers["lastClass"] = self.class;
        self.lastclass = self.class;
    }

    if ( isdefined( self.gamemode_chosenclass ) )
    {
        self.pers["class"] = self.gamemode_chosenclass;
        self.pers["lastClass"] = self.gamemode_chosenclass;
        self.class = self.gamemode_chosenclass;

        if ( !isdefined( self.gamemode_carrierclass ) || var_0.keepcurrentkillstreaks )
            self.lastclass = self.gamemode_chosenclass;

        self.gamemode_chosenclass = undefined;
    }

    self.gamemode_carrierclass = undefined;

    if ( !isdefined( level.iszombiegame ) || !level.iszombiegame )
    {
        if ( !isdefined( self.costume ) )
        {
            if ( maps\mp\_utility::practiceroundgame() )
                self.costume = maps\mp\gametypes\_teams::getpracticeroundcostume();
            else if ( isplayer( self ) )
            {
                self.costume = cao_getactivecostume();
                checkforcostumeset();
            }
            else if ( isagent( self ) && self.agent_type == "player" )
                self.costume = maps\mp\gametypes\_teams::getdefaultcostume();
        }

        if ( !maps\mp\gametypes\_teams::validcostume( self.costume ) )
        {
            if ( isdefined( self.sessioncostume ) && maps\mp\gametypes\_teams::validcostume( self.sessioncostume ) )
                self.costume = self.sessioncostume;
            else
            {
                self.costume = maps\mp\gametypes\_teams::getdefaultcostume();

                if ( isplayer( self ) )
                    cao_setactivecostume( self.costume );

                self.sessioncostume = self.costume;
            }
        }

        logplayercostume();
        maps\mp\gametypes\_teams::playermodelforweapon( self.pers["primaryWeapon"], maps\mp\_utility::getbaseweaponname( var_1 ) );
    }

    maps\mp\gametypes\_weapons::updatemovespeedscale();
    maps\mp\perks\_perks::cac_selector();
    self notify( "changed_kit" );
    self notify( "applyLoadout" );
}

logplayercostume()
{
    if ( isagent( self ) )
        return;

    if ( !isdefined( self.costumelogged ) )
    {
        var_0 = cao_getglobalcostumecategory( "gender" );
        var_1 = cao_getglobalcostumecategory( "head" );
        var_2 = cao_getactivecostumeindex();
        var_3 = cao_getpercostumecategory( "shirt", var_2 );
        var_4 = cao_getpercostumecategory( "pants", var_2 );
        var_5 = cao_getpercostumecategory( "eyewear", var_2 );
        var_6 = cao_getpercostumecategory( "hat", var_2 );
        var_7 = cao_getpercostumecategory( "kneepads", var_2 );
        var_8 = cao_getpercostumecategory( "gloves", var_2 );
        var_9 = cao_getpercostumecategory( "shoes", var_2 );
        var_10 = cao_getpercostumecategory( "gear", var_2 );
        var_11 = cao_getpercostumecategory( "exo", var_2 );
        setmatchdata( "players", self.clientid, "costume", "gender", var_0 );
        setmatchdata( "players", self.clientid, "costume", "head", var_1 );
        setmatchdata( "players", self.clientid, "costume", "shirt", var_3 );
        setmatchdata( "players", self.clientid, "costume", "pants", var_4 );
        setmatchdata( "players", self.clientid, "costume", "eyewear", var_5 );
        setmatchdata( "players", self.clientid, "costume", "hat", var_6 );
        setmatchdata( "players", self.clientid, "costume", "kneepads", var_7 );
        setmatchdata( "players", self.clientid, "costume", "gloves", var_8 );
        setmatchdata( "players", self.clientid, "costume", "shoes", var_9 );
        setmatchdata( "players", self.clientid, "costume", "gear", var_10 );
        setmatchdata( "players", self.clientid, "costume", "exo", var_11 );
        self.costumelogged = 1;
    }
}

giveandapplyloadout( var_0, var_1, var_2, var_3 )
{
    giveloadout( var_0, var_1, var_2, var_3 );
    applyloadout();
}

givedefaultperks()
{
    self.spawnperk = 0;

    if ( !maps\mp\_utility::_hasperk( "specialty_blindeye" ) && self.avoidkillstreakonspawntimer > 0 )
        thread maps\mp\perks\_perks::giveblindeyeafterspawn();

    if ( ( !isdefined( level.ishorde ) || !level.ishorde ) && !level.iszombiegame )
        maps\mp\_utility::giveperk( "specialty_marathon", 0 );

    maps\mp\_utility::giveperk( "specialty_falldamage", 0 );
}

recordvalidationinfraction()
{
    if ( isdefined( self ) && isdefined( self.pers ) && isdefined( self.pers["validationInfractions"] ) )
        self.pers["validationInfractions"] += 1;
}

_detachall()
{
    self.frontshieldmodel = undefined;
    self.backshieldmodel = undefined;
    self.headmodel = undefined;
    self detachall();
}

giveoffhand( var_0 )
{
    var_1 = maps\mp\_utility::strip_suffix( var_0, "_lefthand" );

    switch ( var_1 )
    {
        case "specialty_null":
        case "none":
            break;
        case "explosive_gel_mp":
        case "exoknife_mp":
        case "throwingknife_mp":
        case "tri_drone_mp":
        case "c4_mp":
        case "bouncingbetty_mp":
        case "semtex_mp":
        case "trophy_mp":
        case "exoknife_jug_mp":
        case "frag_grenade_mp":
        case "claymore_mp":
            maps\mp\_utility::giveperk( var_0, 0 );
            break;
        case "smoke_grenade_var_mp":
        case "paint_grenade_var_mp":
        case "emp_grenade_var_mp":
        case "stun_grenade_var_mp":
        case "mute_bomb_mp":
        case "fast_heal_mp":
        case "explosive_drone_mp":
        case "tracking_drone_mp":
        case "smoke_grenade_mp":
        case "emp_grenade_mp":
        case "paint_grenade_mp":
        case "stun_grenade_mp":
        case "concussion_grenade_mp":
        case "flash_grenade_mp":
        case "scrambler_mp":
        case "s1_tactical_insertion_device_mp":
        case "portable_radar_mp":
            self giveweapon( var_0 );
            break;
        case "exoshield_equipment_mp":
            maps\mp\_exo_shield::give_exo_shield();
            break;
        case "adrenaline_mp":
            maps\mp\_adrenaline::give_exo_overclock();
            break;
        case "extra_health_mp":
            maps\mp\_extrahealth::give_exo_health();
            break;
        case "exorepulsor_equipment_mp":
            maps\mp\_exo_repulsor::give_exo_repulsor();
            break;
        case "exocloak_equipment_mp":
            maps\mp\_exo_cloak::give_exo_cloak();
            break;
        case "exoping_equipment_mp":
            maps\mp\_exo_ping::give_exo_ping();
            break;
        case "exohover_equipment_mp":
            maps\mp\_exo_hover::give_exo_hover();
            break;
        case "exomute_equipment_mp":
            maps\mp\_exo_mute::give_exo_mute();
            break;
        case "iw5_dlcgun12loot7_mp":
            maps\mp\_grappling_hook::give_grappling_hook();
            break;
        default:
    }
}

takeoffhand( var_0 )
{
    var_1 = maps\mp\_utility::strip_suffix( var_0, "_lefthand" );

    switch ( var_1 )
    {
        case "specialty_null":
        case "none":
            break;
        case "s1_tactical_insertion_device_mp":
        case "explosive_gel_mp":
        case "exoknife_mp":
        case "throwingknife_mp":
        case "tri_drone_mp":
        case "c4_mp":
        case "bouncingbetty_mp":
        case "semtex_mp":
        case "trophy_mp":
        case "exoknife_jug_mp":
        case "frag_grenade_mp":
        case "claymore_mp":
            maps\mp\_utility::_unsetperk( var_0 );
            break;
        case "smoke_grenade_var_mp":
        case "paint_grenade_var_mp":
        case "emp_grenade_var_mp":
        case "stun_grenade_var_mp":
        case "mute_bomb_mp":
        case "fast_heal_mp":
        case "explosive_drone_mp":
        case "tracking_drone_mp":
        case "smoke_grenade_mp":
        case "emp_grenade_mp":
        case "paint_grenade_mp":
        case "stun_grenade_mp":
        case "concussion_grenade_mp":
        case "flash_grenade_mp":
        case "scrambler_mp":
        case "portable_radar_mp":
            self takeweapon( var_0 );
            break;
        case "exoshield_equipment_mp":
            maps\mp\_exo_shield::take_exo_shield();
            break;
        case "adrenaline_mp":
            maps\mp\_adrenaline::take_exo_overclock();
            break;
        case "extra_health_mp":
            maps\mp\_extrahealth::take_exo_health();
            break;
        case "exorepulsor_equipment_mp":
            maps\mp\_exo_repulsor::take_exo_repulsor();
            break;
        case "exocloak_equipment_mp":
            maps\mp\_exo_cloak::take_exo_cloak();
            break;
        case "exoping_equipment_mp":
            maps\mp\_exo_ping::take_exo_ping();
            break;
        case "exohover_equipment_mp":
            maps\mp\_exo_hover::take_exo_hover();
            break;
        case "exomute_equipment_mp":
            maps\mp\_exo_mute::take_exo_mute();
            break;
        case "iw5_dlcgun12loot7_mp":
            maps\mp\_grappling_hook::take_grappling_hook();
            break;
        default:
    }
}

loadoutallperks( var_0, var_1 )
{
    for ( var_2 = 0; var_2 < 6; var_2++ )
        var_1[var_2] = maps\mp\perks\_perks::validateperk( var_2, var_1[var_2] );

    for ( var_2 = 0; var_2 < 6; var_2++ )
    {
        if ( var_1[var_2] != "specialty_null" )
            maps\mp\_utility::giveperk( var_1[var_2], 1, var_2 );
    }

    self.loadoutperks = var_1;
    self.loadoutequipment = var_0;
}

loadouttrackvariablegrenades( var_0, var_1, var_2 )
{
    self endon( "death" );
    self endon( "disconnect" );
    self endon( "faux_spawn" );
    self notify( "loadoutTrackVariableGrenades" );
    self endon( "loadoutTrackVariableGrenades" );

    switch ( var_1 )
    {
        case "contact_grenade_var_mp":
        case "semtex_grenade_var_mp":
        case "frag_grenade_var_mp":
        case "smoke_grenade_var_mp":
        case "paint_grenade_var_mp":
        case "emp_grenade_var_mp":
        case "stun_grenade_var_mp":
            if ( isdefined( self.prevlethalvarclass ) && self.prevlethalvarclass == var_0 && isdefined( self.prevlethalvartype ) && self.prevlethalvartype != var_1 )
            {
                var_3 = self.prevlethalvartype;
                self takeweapon( var_1 );
                self.loadoutequipment = var_3;
                self setlethalweapon( var_3 );
                maps\mp\_utility::giveperk( var_3, 0 );
                var_1 = var_3;
            }

            self.prevlethalvarclass = var_0;
            self.prevlethalvartype = var_1;
            break;
        default:
            self.prevlethalvarclass = undefined;
            self.prevlethalvartype = undefined;
            break;
    }

    var_4 = maps\mp\_utility::strip_suffix( var_2, "_lefthand" );

    switch ( var_4 )
    {
        case "contact_grenade_var_mp":
        case "semtex_grenade_var_mp":
        case "frag_grenade_var_mp":
        case "smoke_grenade_var_mp":
        case "paint_grenade_var_mp":
        case "emp_grenade_var_mp":
        case "stun_grenade_var_mp":
            if ( isdefined( self.prevtacticalvarclass ) && self.prevtacticalvarclass == var_0 && isdefined( self.prevtacticalvartype ) && self.prevtacticalvartype != var_2 )
            {
                var_5 = self.prevtacticalvartype;
                self takeweapon( var_2 );
                self.loadoutoffhand = var_5;
                self settacticalweapon( var_5 );
                maps\mp\_utility::giveperk( var_5, 0 );
                var_2 = var_5;
            }

            self.prevtacticalvarclass = var_0;
            self.prevtacticalvartype = var_2;
            break;
        default:
            self.prevtacticalvarclass = undefined;
            self.prevtacticalvartype = undefined;
            break;
    }

    for (;;)
    {
        self waittill( "switched_var_grenade", var_6 );

        if ( issubstr( var_6, "_lefthand" ) )
        {
            self.prevtacticalvartype = var_6;
            continue;
        }

        self.prevlethalvartype = var_6;
    }
}

isexoxmg( var_0 )
{
    if ( issubstr( var_0, "_exoxmg" ) )
        return 1;

    return 0;
}

issac3( var_0 )
{
    if ( issubstr( var_0, "sac3" ) )
        return 1;

    return 0;
}

ismahem( var_0 )
{
    if ( issubstr( var_0, "mahem" ) )
        return 1;

    return 0;
}

isdlcgun2( var_0 )
{
    if ( var_0 == "iw5_dlcgun2" || var_0 == "iw5_dlcgun2zm" || issubstr( var_0, "iw5_dlcgun2loot" ) )
        return 1;

    return 0;
}

isdlcgun3( var_0 )
{
    if ( issubstr( var_0, "dlcgun3" ) )
        return 1;

    return 0;
}

needsscopeoverride( var_0, var_1 )
{
    var_2 = maps\mp\_utility::getweaponclass( var_0 ) == "weapon_sniper";

    if ( var_2 && !anyattachmentisscope( var_1 ) )
        return 1;

    return 0;
}

anyattachmentisscope( var_0 )
{
    foreach ( var_2 in var_0 )
    {
        if ( maps\mp\_utility::getattachmenttype( var_2 ) == "rail" || var_2 == "zoomscope" || var_2 == "ironsights" )
            return 1;
    }

    return 0;
}

addautomaticattachments( var_0, var_1 )
{
    var_2 = [];
    var_3 = undefined;
    var_4 = maps\mp\_utility::getbaseweaponname( var_0 );

    if ( var_4 == "iw5_dlcgun9loot0" )
        var_4 = "iw5_mors";
    else if ( var_4 == "iw5_dlcgun10" )
        var_4 = "iw5_gm6";
    else if ( var_4 == "iw5_dlcgun10loot0" )
        var_4 = "iw5_m990";
    else if ( var_4 == "iw5_dlcgun10loot1" )
        var_4 = "iw5_thor";
    else if ( var_4 == "iw5_dlcgun11loot2" )
        var_4 = "iw5_stingerm7";
    else if ( var_4 == "iw5_dlcgun11loot3" )
        var_4 = "iw5_maaws";
    else if ( var_4 == "iw5_dlcgun11loot4" )
        var_4 = "iw5_mahem";
    else if ( var_4 == "iw5_dlcgun10loot5" )
        var_4 = "iw5_exoxmg";
    else if ( var_4 == "iw5_dlcgun10loot3" )
        var_4 = "iw5_dlcgun2";

    if ( var_4 == "iw5_dlcgun6loot5" || var_4 == "iw5_dlcgun6loot6" || var_4 == "iw5_dlcgun6loot7" || var_4 == "iw5_dlcgun6loot8" || var_4 == "iw5_dlcgun6loot9" || var_4 == "iw5_dlcgun7" )
        var_3 = 1;

    if ( isdefined( var_3 ) && var_3 )
    {
        if ( !anyattachmentisscope( var_1 ) )
            var_2[var_2.size] = "dragunovdlcscope";
    }
    else if ( needsscopeoverride( var_4, var_1 ) )
    {
        var_5 = var_4;

        if ( issubstr( var_4, "iw5_" ) || issubstr( var_4, "iw6_" ) )
        {
            var_6 = var_4.size;
            var_5 = getsubstr( var_4, 4, var_6 );
        }

        var_7 = getbasefromlootversion( var_5 ) + "scope";
        var_2[var_2.size] = var_7;
    }

    if ( isexoxmg( var_4 ) )
        var_2[var_2.size] = "akimboxmg";

    if ( issac3( var_4 ) )
        var_2[var_2.size] = "akimbosac3";

    if ( ismahem( var_4 ) )
        var_2[var_2.size] = "mahemscopebase";

    if ( isdlcgun2( var_4 ) )
    {
        if ( isdefined( level.iszombiegame ) && level.iszombiegame )
            var_2[var_2.size] = "sensorheartbeatzm";
        else
            var_2[var_2.size] = "sensorheartbeat";
    }

    if ( isdlcgun3( var_4 ) )
    {
        if ( isdefined( level.iszombiegame ) && level.iszombiegame )
            var_2[var_2.size] = "akimbo";
    }

    return var_2;
}

processattachments( var_0, var_1 )
{
    var_2 = var_0.size;

    if ( var_2 > 1 )
        var_0 = common_scripts\utility::alphabetize( var_0 );

    var_3 = addautomaticattachments( var_1, var_0 );
    var_0 = common_scripts\utility::array_combine( var_0, var_3 );
    return var_0;
}

array_checkaddattachment( var_0, var_1 )
{
    if ( isdefined( var_1 ) && var_1 != "none" )
        var_0[var_0.size] = var_1;

    return var_0;
}

getbasefromlootversion( var_0 )
{
    var_1 = 0;
    var_2 = [];
    var_2[0] = "loot";
    var_2[1] = "gold";
    var_2[2] = "atlas";
    var_2[3] = "blops2";
    var_2[4] = "ghosts";

    foreach ( var_4 in var_2 )
    {
        for ( var_5 = 0; var_5 < var_0.size; var_5++ )
        {
            if ( tolower( var_0[var_5] ) != tolower( var_4[var_1] ) )
            {
                var_5 -= var_1;
                var_1 = 0;
                continue;
            }

            var_1++;

            if ( var_1 == var_4.size )
                break;
        }

        if ( var_1 == var_4.size )
        {
            var_0 = getsubstr( var_0, 0, var_5 - var_1 + 1 );
            break;
        }
        else
            var_1 = 0;
    }

    return var_0;
}

buildweaponname( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    if ( !isdefined( var_0 ) || var_0 == "none" )
        return var_0;

    if ( !isdefined( level.lettertonumber ) )
        level.lettertonumber = makeletterstonumbers();

    if ( isdefined( var_5 ) && var_5 != 0 && maps\mp\_utility::getattachmenttype( var_1 ) != "rail" && maps\mp\_utility::getattachmenttype( var_2 ) != "rail" && maps\mp\_utility::getattachmenttype( var_3 ) != "rail" )
        var_5 = undefined;

    var_1 = maps\mp\_utility::attachmentmap_tounique( var_1, var_0 );
    var_2 = maps\mp\_utility::attachmentmap_tounique( var_2, var_0 );
    var_3 = maps\mp\_utility::attachmentmap_tounique( var_3, var_0 );
    var_6 = "";

    if ( issubstr( var_0, "iw5_" ) )
    {
        var_7 = var_0 + "_mp";
        var_8 = var_0.size;
        var_6 = getsubstr( var_0, 4, var_8 );
    }
    else
    {
        var_7 = var_0;
        var_6 = var_0;
    }

    var_9 = [];
    var_9 = array_checkaddattachment( var_9, var_1 );
    var_9 = array_checkaddattachment( var_9, var_2 );
    var_9 = array_checkaddattachment( var_9, var_3 );
    var_9 = processattachments( var_9, var_0 );

    if ( isdefined( var_9[0] ) && var_9[0] == "vzscope" )
        var_9[0] = var_6 + "scopevz";
    else if ( isdefined( var_9[1] ) && var_9[1] == "vzscope" )
        var_9[1] = var_6 + "scopevz";
    else if ( isdefined( var_9[2] ) && var_9[2] == "vzscope" )
        var_9[2] = var_6 + "scopevz";

    if ( isdefined( var_9.size ) && var_9.size )
    {
        var_10 = 0;

        while ( var_10 < var_9.size )
        {
            if ( isdefined( var_9[var_10 + 1] ) && common_scripts\utility::is_later_in_alphabet( var_9[var_10], var_9[var_10 + 1] ) )
            {
                var_11 = var_9[var_10];
                var_9[var_10] = var_9[var_10 + 1];
                var_9[var_10 + 1] = var_11;
                var_10 = 0;
                continue;
            }

            var_10++;
        }
    }

    foreach ( var_13 in var_9 )
        var_7 += ( "_" + var_13 );

    if ( issubstr( var_7, "iw5_" ) )
    {
        var_7 = buildweaponnamecamo( var_7, var_4 );
        var_7 = buildweaponnamereticle( var_7, var_5 );
        return var_7;
    }
    else if ( !isvalidweapon( var_7 + "_mp" ) )
        return var_0 + "_mp";
    else
    {
        var_7 = buildweaponnamecamo( var_7, var_4 );
        var_7 = buildweaponnamereticle( var_7, var_5 );
        return var_7 + "_mp";
    }
}

buildweaponnamecamo( var_0, var_1 )
{
    if ( !isdefined( var_1 ) )
        return var_0;

    if ( var_1 <= 0 )
        return var_0;

    if ( var_1 < 10 )
        var_0 += "_camo0";
    else
        var_0 += "_camo";

    var_0 += var_1;
    return var_0;
}

buildweaponnamereticle( var_0, var_1 )
{
    if ( !isdefined( var_1 ) )
        return var_0;

    if ( var_1 <= 0 )
        return var_0;

    var_0 += "_scope";
    var_0 += var_1;
    return var_0;
}

makeletterstonumbers()
{
    var_0 = [];
    var_0["a"] = 0;
    var_0["b"] = 1;
    var_0["c"] = 2;
    var_0["d"] = 3;
    var_0["e"] = 4;
    var_0["f"] = 5;
    var_0["g"] = 6;
    var_0["h"] = 7;
    var_0["i"] = 8;
    var_0["j"] = 9;
    var_0["k"] = 10;
    var_0["l"] = 11;
    var_0["m"] = 12;
    var_0["n"] = 13;
    var_0["o"] = 14;
    var_0["p"] = 15;
    var_0["q"] = 16;
    var_0["r"] = 17;
    var_0["s"] = 18;
    var_0["t"] = 19;
    var_0["u"] = 20;
    var_0["v"] = 21;
    var_0["w"] = 22;
    var_0["x"] = 23;
    var_0["y"] = 24;
    var_0["z"] = 25;
    return var_0;
}

setkillstreaks( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 )
{
    self.killstreaks = [];
    self.killstreakmodules = [];
    var_10 = [];
    var_11 = [ var_0, var_1, var_2, var_3 ];
    var_12 = 0;

    foreach ( var_14 in var_11 )
    {
        if ( isdefined( var_14 ) && var_14 != "none" )
        {
            var_15 = 3;

            if ( var_6 )
            {
                for ( var_16 = 0; var_16 < var_15; var_16++ )
                {
                    var_17 = self.pers["copyCatLoadout"]["loadoutKillstreakModules"][var_12][var_16];

                    if ( isdefined( var_17 ) && var_17 != "none" )
                    {
                        var_18 = maps\mp\killstreaks\_killstreaks::getstreakmodulecost( var_17 );
                        self.killstreakmodules[var_17] = var_18;
                    }
                }
            }
            else if ( isdefined( var_8 ) && var_8 != "none" )
            {
                for ( var_16 = 0; var_16 < var_15; var_16++ )
                {
                    var_17 = getmatchrulesdata( "defaultClasses", var_8, self.class_num, "class", "assaultStreaks", var_12, "modules", var_16 );

                    if ( isdefined( var_17 ) && var_17 != "none" )
                    {
                        var_18 = maps\mp\killstreaks\_killstreaks::getstreakmodulecost( var_17 );
                        self.killstreakmodules[var_17] = var_18;
                    }
                }
            }
            else if ( var_4 )
            {
                for ( var_16 = 0; var_16 < var_15; var_16++ )
                {
                    var_17 = self getcacplayerdata( self.class_num, "assaultStreaks", var_12, "modules", var_16 );

                    if ( isdefined( var_17 ) && var_17 != "none" )
                    {
                        var_18 = maps\mp\killstreaks\_killstreaks::getstreakmodulecost( var_17 );
                        self.killstreakmodules[var_17] = var_18;
                    }
                }
            }
            else if ( var_5 )
            {
                for ( var_16 = 0; var_16 < var_15; var_16++ )
                {
                    var_17 = table_getkillstreakmodule( level.practiceroundclasstablename, self.class_num, var_12, var_16 );

                    if ( isdefined( var_17 ) && var_17 != "none" )
                    {
                        var_18 = maps\mp\killstreaks\_killstreaks::getstreakmodulecost( var_17 );
                        self.killstreakmodules[var_17] = var_18;
                    }
                }
            }
            else if ( isdefined( var_9 ) )
            {
                for ( var_16 = 0; var_16 < var_15; var_16++ )
                {
                    var_17 = var_9[var_12][var_16];

                    if ( isdefined( var_17 ) && var_17 != "none" )
                    {
                        var_18 = maps\mp\killstreaks\_killstreaks::getstreakmodulecost( var_17 );
                        self.killstreakmodules[var_17] = var_18;
                    }
                }
            }
            else if ( isdefined( self.class_num ) )
            {
                for ( var_16 = 0; var_16 < var_15; var_16++ )
                {
                    var_17 = table_getkillstreakmodule( level.classtablename, self.class_num, var_12, var_16 );

                    if ( isdefined( var_17 ) && var_17 != "none" )
                    {
                        var_18 = maps\mp\killstreaks\_killstreaks::getstreakmodulecost( var_17 );
                        self.killstreakmodules[var_17] = var_18;
                    }
                }
            }
            else if ( isdefined( var_7 ) )
            {
                var_19 = self.pers["gamemodeLoadout"]["loadoutKillstreakModules"];

                for ( var_16 = 0; var_16 < var_15; var_16++ )
                {
                    var_17 = var_19[var_12][var_16];

                    if ( isdefined( var_17 ) && var_17 != "none" )
                    {
                        var_18 = maps\mp\killstreaks\_killstreaks::getstreakmodulecost( var_17 );
                        self.killstreakmodules[var_17] = var_18;
                    }
                }
            }

            for ( var_20 = maps\mp\killstreaks\_killstreaks::getstreakcost( var_14 ); isdefined( var_10[var_20] ); var_20++ )
            {

            }

            var_10[var_20] = var_14;
        }

        var_12++;
    }

    var_22 = 0;

    foreach ( var_20, var_24 in var_10 )
    {
        if ( var_20 > var_22 )
            var_22 = var_20;
    }

    for ( var_25 = 0; var_25 <= var_22; var_25++ )
    {
        if ( !isdefined( var_10[var_25] ) )
            continue;

        var_24 = var_10[var_25];
        self.killstreaks[var_25] = var_10[var_25];
    }
}

replenishloadout()
{
    var_0 = self.pers["team"];
    var_1 = self.pers["class"];
    var_2 = self getweaponslistall();

    for ( var_3 = 0; var_3 < var_2.size; var_3++ )
    {
        var_4 = var_2[var_3];
        self givemaxammo( var_4 );
        self setweaponammoclip( var_4, 9999 );

        if ( var_4 == "claymore_mp" || var_4 == "claymore_detonator_mp" )
            self setweaponammostock( var_4, 2 );
    }

    if ( self getammocount( level.classgrenades[var_1]["primary"]["type"] ) < level.classgrenades[var_1]["primary"]["count"] )
        self setweaponammoclip( level.classgrenades[var_1]["primary"]["type"], level.classgrenades[var_1]["primary"]["count"] );

    if ( self getammocount( level.classgrenades[var_1]["secondary"]["type"] ) < level.classgrenades[var_1]["secondary"]["count"] )
        self setweaponammoclip( level.classgrenades[var_1]["secondary"]["type"], level.classgrenades[var_1]["secondary"]["count"] );
}

onplayerconnecting()
{
    for (;;)
    {
        level waittill( "connected", var_0 );

        if ( !isdefined( var_0.pers["class"] ) )
            var_0.pers["class"] = "";

        if ( !isdefined( var_0.pers["lastClass"] ) )
            var_0.pers["lastClass"] = "";

        var_0.class = var_0.pers["class"];
        var_0.lastclass = var_0.pers["lastClass"];
        var_0.detectexplosives = 0;
        var_0.bombsquadicons = [];
        var_0.bombsquadids = [];
    }
}

fadeaway( var_0, var_1 )
{
    wait(var_0);
    self fadeovertime( var_1 );
    self.alpha = 0;
}

setclass( var_0 )
{
    self.curclass = var_0;
}

assignpracticeroundclasses()
{
    if ( !isdefined( level.practiceroundclasses ) )
    {
        level.practiceroundclasses = [];
        level.practiceroundclassorder = [];
        var_0 = tablegetcolumncount( level.practiceroundclasstablename );

        for ( var_1 = 1; var_1 < var_0; var_1++ )
        {
            var_2 = tablelookupbyrow( level.practiceroundclasstablename, 0, var_1 );

            if ( isdefined( level.practiceroundclasses[var_2] ) )
            {
                level.practiceroundclasses[var_2][level.practiceroundclasses[var_2].size] = var_1 - 1;
                continue;
            }

            level.practiceroundclasses[var_2][0] = var_1 - 1;
        }

        var_3 = getarraykeys( level.practiceroundclasses );
        var_3 = common_scripts\utility::alphabetize( var_3 );

        for ( var_1 = 0; var_1 < var_3.size; var_1++ )
            level.practiceroundclassorder[var_3[var_1]] = var_1;
    }

    self.pers["practiceRoundClasses"] = [];

    foreach ( var_2, var_5 in level.practiceroundclasses )
    {
        var_6 = 0;

        if ( isdefined( level.practiceroundclassorder[var_2] ) )
            var_6 = level.practiceroundclassorder[var_2];

        var_7 = 0;
        var_8 = randomintrange( 0, var_5.size );

        if ( isdefined( var_5[var_8] ) )
            var_7 = var_5[var_8];

        self.pers["practiceRoundClasses"][var_6] = var_7;
        self setrankedplayerdata( "practiceRoundClassMap", var_6, self.pers["practiceRoundClasses"][var_6] );
    }
}

getpracticeroundclass( var_0 )
{
    return self.pers["practiceRoundClasses"][var_0];
}

loadoutvalidforcopycat( var_0 )
{
    if ( !maps\mp\_utility::practiceroundgame() )
        return 0;

    var_1 = self.class;
    var_2 = maps\mp\_utility::getclassindex( var_1 );

    if ( !isdefined( var_1 ) || !isdefined( var_2 ) )
        return 0;

    var_3 = 1;

    if ( var_2 == -1 )
    {
        var_1 = self.pers["copyCatLoadout"]["className"];
        var_2 = maps\mp\_utility::getclassindex( var_1 );

        if ( issubstr( var_1, "practice" ) )
        {
            var_2 = self.pers["copyCatLoadout"]["practiceClassNum"];
            var_3 = 0;
        }
    }
    else if ( issubstr( var_1, "practice" ) )
    {
        var_2 = self.pers["practiceRoundClasses"][var_2];
        var_3 = 0;
    }
    else if ( var_1 == "callback" )
        return 1;

    var_4 = var_0.class;
    var_5 = maps\mp\_utility::getclassindex( var_4 );

    if ( !isdefined( var_4 ) || !isdefined( var_5 ) )
        return 0;

    var_6 = 1;

    if ( var_5 == -1 )
    {
        var_4 = var_0.pers["copyCatLoadout"]["className"];
        var_5 = maps\mp\_utility::getclassindex( var_4 );

        if ( issubstr( var_4, "practice" ) )
        {
            var_5 = var_0.pers["copyCatLoadout"]["practiceClassNum"];
            var_6 = 0;
        }
    }
    else if ( issubstr( var_4, "practice" ) )
    {
        var_5 = var_0.pers["practiceRoundClasses"][var_5];
        var_6 = 0;
    }
    else if ( var_4 == "callback" )
        return 1;

    return var_2 != var_5 || var_3 != var_6;
}

setcopycatloadout( var_0 )
{
    if ( !maps\mp\_utility::practiceroundgame() )
        return;

    self.class = "copycat";
    self.pers["class"] = "copycat";
    var_1 = var_0 cloneloadout();
    self.pers["copyCatLoadout"] = var_1;
    self.pers["copyCatLoadout"]["inUse"] = 1;
}

clearcopycatloadout()
{
    self.pers["copyCatLoadout"]["inUse"] = 0;
}

isvalidprimary( var_0 )
{
    switch ( var_0 )
    {
        case "iw5_dlcgun8loot0":
        case "iw5_dlcgun8":
        case "iw5_dlcgun7loot9":
        case "iw5_dlcgun7loot8":
        case "iw5_dlcgun7loot7":
        case "iw5_dlcgun7loot5":
        case "iw5_dlcgun7loot4":
        case "iw5_dlcgun7loot3":
        case "iw5_dlcgun7loot2":
        case "iw5_dlcgun7loot1":
        case "iw5_dlcgun6loot4":
        case "iw5_dlcgun6loot3":
        case "iw5_dlcgun6loot2":
        case "iw5_dlcgun6loot1":
        case "iw5_dlcgun6loot0":
        case "iw5_dlcgun11loot1":
        case "iw5_dlcgun10loot6":
        case "iw5_dlcgun10loot4":
        case "iw5_dlcgun10loot2":
        case "iw5_dlcgun9loot9":
        case "iw5_dlcgun9loot8":
        case "iw5_dlcgun9loot7":
        case "iw5_dlcgun9loot6":
        case "iw5_dlcgun9loot5":
        case "iw5_dlcgun9loot4":
        case "iw5_dlcgun9loot3":
        case "iw5_dlcgun9loot2":
        case "iw5_dlcgun9loot1":
        case "iw5_dlcgun9":
        case "iw5_dlcgun8loot9":
        case "iw5_dlcgun8loot8":
        case "iw5_dlcgun8loot7":
        case "iw5_dlcgun8loot6":
        case "iw5_dlcgun8loot5":
        case "iw5_dlcgun8loot4":
        case "iw5_dlcgun8loot3":
        case "iw5_dlcgun8loot2":
        case "iw5_dlcgun5loot6":
        case "iw5_dlcgun5loot5":
        case "iw5_dlcgun5loot4":
        case "iw5_dlcgun5loot3":
        case "iw5_dlcgun5loot2":
        case "iw5_dlcgun5loot1":
        case "iw5_dlcgun5loot0":
        case "iw5_dlcgun7":
        case "iw5_dlcgun6loot9":
        case "iw5_dlcgun6loot8":
        case "iw5_dlcgun6loot7":
        case "iw5_dlcgun6loot6":
        case "iw5_dlcgun10loot3":
        case "iw5_dlcgun10loot5":
        case "iw5_dlcgun10loot1":
        case "iw5_dlcgun10loot0":
        case "iw5_dlcgun10":
        case "iw5_dlcgun9loot0":
        case "iw5_dlcgun8loot1":
        case "iw5_dlcgun7loot6":
        case "iw5_dlcgun7loot0":
        case "iw5_dlcgun6loot5":
        case "iw5_dlcgun6":
            return 1;
        default:
            break;
    }

    if ( maps\mp\_utility::islootweapon( var_0 ) )
        var_0 = getbasefromlootversion( var_0 );

    switch ( var_0 )
    {
        case "iw5_dlcgun52":
        case "iw5_dlcgun51":
        case "iw5_dlcgun50":
        case "iw5_dlcgun49":
        case "iw5_dlcgun48":
        case "iw5_dlcgun47":
        case "iw5_dlcgun46":
        case "iw5_dlcgun45":
        case "iw5_dlcgun44":
        case "iw5_dlcgun43":
        case "iw5_dlcgun42":
        case "iw5_dlcgun41":
        case "iw5_dlcgun40":
        case "iw5_dlcgun39":
        case "iw5_dlcgun38":
        case "iw5_dlcgun37":
        case "iw5_dlcgun36":
        case "iw5_dlcgun35":
        case "iw5_dlcgun34":
        case "iw5_dlcgun33":
        case "iw5_dlcgun32":
        case "iw5_dlcgun31":
        case "iw5_dlcgun30":
        case "iw5_dlcgun29":
        case "iw5_dlcgun28":
        case "iw5_dlcgun27":
        case "iw5_dlcgun26":
        case "iw5_dlcgun25":
        case "iw5_dlcgun24":
        case "iw5_dlcgun23":
        case "iw5_dlcgun22":
        case "iw5_dlcgun21":
        case "iw5_dlcgun20":
        case "iw5_dlcgun19":
        case "iw5_dlcgun18":
        case "iw5_dlcgun4":
        case "iw5_dlcgun3":
        case "iw5_dlcgun1":
        case "iw5_exoxmgjugg":
        case "iw5_juggtitan45":
        case "iw5_microdronelauncher":
        case "iw5_epm3":
        case "iw5_em1atlas":
        case "iw5_em1gold":
        case "iw5_em1":
        case "iw5_uts19":
        case "iw5_rhino":
        case "iw5_maul":
        case "iw5_kf5":
        case "iw5_asm1":
        case "iw5_sac3":
        case "iw5_hmr9":
        case "iw5_sn6":
        case "iw5_mp11":
        case "iw5_asaw":
        case "iw5_m182spr":
        case "iw5_arx160":
        case "iw5_himar":
        case "iw5_lsat":
        case "iw5_hbra3":
        case "iw5_bal27atlas":
        case "iw5_bal27":
        case "iw5_ak12ghosts":
        case "iw5_ak12":
        case "iw5_exoshield":
        case "iw5_riotshieldjugg":
        case "iw5_riotshieldt6":
        case "iw5_spas12":
        case "iw5_msr":
        case "iw5_barrett":
        case "iw5_pp90m1":
        case "iw5_mp5":
        case "riotshield":
        case "iw5_exoxmg":
        case "iw5_thor":
        case "iw5_m990":
        case "iw5_gm6":
        case "iw5_mors":
        case "iw5_dlcgun2":
        case "iw5_exominigun":
        case "iw5_mechpunch":
        case "iw5_combatknife":
            return 1;
        default:
            recordvalidationinfraction();
            return 0;
    }
}

isvalidsecondary( var_0, var_1 )
{
    if ( isdefined( var_1 ) && var_1 )
        return isvalidprimary( var_0 );

    switch ( var_0 )
    {
        case "iw5_dlcgun17":
        case "iw5_dlcgun16":
        case "iw5_dlcgun15":
        case "iw5_dlcgun14":
        case "iw5_dlcgun13":
        case "iw5_dlcgun11loot0":
        case "iw5_dlcgun11":
        case "iw5_dlcgun10loot9":
        case "iw5_dlcgun10loot8":
        case "iw5_dlcgun10loot7":
        case "iw5_dlcgun11loot4":
        case "iw5_dlcgun11loot3":
        case "iw5_dlcgun11loot2":
            return 1;
        default:
            break;
    }

    if ( maps\mp\_utility::islootweapon( var_0 ) )
        var_0 = getbasefromlootversion( var_0 );

    switch ( var_0 )
    {
        case "iw5_juggtitan45_mp":
        case "iw5_exocrossbowblops2":
        case "iw5_exocrossbow":
        case "iw5_titan45atlas":
        case "iw5_titan45loot9":
        case "iw5_titan45loot8":
        case "iw5_titan45loot7":
        case "iw5_titan45loot6":
        case "iw5_titan45loot5":
        case "iw5_titan45loot4":
        case "iw5_titan45loot3":
        case "iw5_titan45loot2":
        case "iw5_titan45loot1":
        case "iw5_titan45loot0":
        case "iw5_titan45":
        case "iw5_rw1":
        case "iw5_pbw":
        case "iw5_vbr":
        case "iw5_mp412jugg":
        case "iw5_usp45jugg":
        case "stinger":
        case "rpg":
        case "iw5_spas12":
        case "iw5_mahem":
        case "iw5_maaws":
        case "iw5_stingerm7":
        case "iw5_mechpunch":
        case "iw5_usp45":
        case "iw5_combatknife":
        case "m320":
        case "none":
            return 1;
        default:
            recordvalidationinfraction();
            return 0;
    }
}

isvalidattachment( var_0, var_1, var_2 )
{
    var_3 = 0;

    if ( !isdefined( var_2 ) )
        var_2 = 1;

    switch ( var_0 )
    {
        case "dragunovedlcstabilizer":
        case "dragunovdlcscopevz":
        case "silencersniper":
        case "silencerpistol":
        case "crossbowscopebase":
        case "thorstabilizer":
        case "m990stabilizer":
        case "gm6stabilizer":
        case "morsstabilizer":
        case "rw1scopebase":
        case "shieldshockplant":
        case "shieldfastplant":
        case "shieldfastmelee":
        case "heatsink":
        case "stabilizer":
        case "trackrounds":
        case "m990scopevz":
        case "thorscopevz":
        case "gm6scopevz":
        case "morsscopevz":
        case "lasersight":
        case "stock":
        case "quickdraw":
        case "longrange":
        case "firerate":
        case "opticstargetenhancer":
        case "directhack":
        case "variablereddot":
        case "foregrip":
        case "silencer01":
        case "opticsthermal":
        case "opticseotech":
        case "opticsacog2":
        case "opticsreddot":
        case "parabolicmicrophone":
        case "hybrid":
        case "hamrhybrid":
        case "eotechlmg":
        case "eotechsmg":
        case "eotech":
        case "dualmag":
        case "xmags":
        case "rof":
        case "fmj":
        case "heartbeat":
        case "thermalsmg":
        case "thermal":
        case "grip":
        case "silencer03":
        case "silencer02":
        case "silencer":
        case "reflexlmg":
        case "reflexsmg":
        case "reflex":
        case "acogsmg":
        case "acog":
        case "scopevz":
        case "sensorheartbeat":
        case "mahemscopebase":
        case "akimbosac3":
        case "akimboxmg":
        case "ironsights":
        case "zoomscope":
        case "akimbo":
        case "tactical":
        case "shotgun":
        case "m320":
        case "gp25":
        case "gl":
        case "none":
            var_3 = 1;
            break;
        default:
            var_3 = 0;
            break;
    }

    if ( var_3 && var_0 != "none" )
    {
        var_4 = maps\mp\_utility::getweaponattachmentarrayfromstats( var_1 );
        var_3 = common_scripts\utility::array_contains( var_4, var_0 );
    }

    if ( !var_3 && var_2 )
        recordvalidationinfraction();

    return var_3;
}

isattachmentunlocked( var_0, var_1 )
{
    if ( maps\mp\_utility::ismlgmatch() )
        return 1;

    var_2 = maps\mp\_utility::getbaseweaponname( var_0, 1 );

    if ( maps\mp\_utility::islootweapon( var_2 ) )
        var_2 = getbasefromlootversion( var_2 );

    var_3 = var_2 + " " + var_1;

    if ( !self isitemunlocked( var_3 ) )
        return 0;

    return 1;
}

isvalidcamo( var_0, var_1 )
{
    switch ( var_0 )
    {
        case "sentinel":
        case "diamond":
        case "carbon":
        case "tiger":
        case "neptune":
        case "urbanjet":
        case "concrete":
        case "digital1":
        case "yeti":
        case "highlander":
        case "digital3":
        case "raid":
        case "wooldand":
        case "stranden":
        case "urban":
        case "multicamd":
        case "multicame":
        case "gold":
        case "none":
            return 1;
        case "camo14":
        case "camo13":
        case "camo12":
        case "camo11":
        case "camo10":
        case "camo09":
        case "camo08":
        case "camo07":
        case "camo06":
        case "camo05":
        case "camo04":
        case "camo03":
        case "camo02":
        case "camo01":
            return 1;
        default:
            recordvalidationinfraction();

            if ( !isdefined( var_1 ) || !var_1 )
            {

            }

            return 0;
    }
}

isvalidreticle( var_0, var_1 )
{
    switch ( var_0 )
    {
        case "retdlc42":
        case "retdlc41":
        case "retdlc40":
        case "retdlc39":
        case "retdlc38":
        case "retdlc37":
        case "retdlc36":
        case "retdlc35":
        case "retdlc34":
        case "retdlc33":
        case "retdlc32":
        case "retdlc31":
        case "retdlc30":
        case "retdlc29":
        case "retdlc28":
        case "retdlc27":
        case "retdlc26":
        case "retdlc25":
        case "retdlc24":
        case "retdlc23":
        case "retdlc22":
        case "retdlc21":
        case "retdlc20":
        case "retdlc19":
        case "retdlc18":
        case "retdlc17":
        case "retdlc16":
        case "retdlc15":
        case "retdlc14":
        case "retdlc13":
        case "retdlc12":
        case "retdlc11":
        case "retdlc10":
        case "retdlc09":
        case "retdlc08":
        case "retdlc07":
        case "retdlc06":
        case "retdlc05":
        case "retdlc04":
        case "retdlc03":
        case "retdlc02":
        case "retdlc01":
        case "ret9":
        case "ret8":
        case "ret7":
        case "ret6":
        case "ret5":
        case "ret4":
        case "ret3":
        case "ret2":
        case "ret1":
        case "none":
            return 1;
        default:
            recordvalidationinfraction();

            if ( !isdefined( var_1 ) || !var_1 )
            {

            }

            return 0;
    }
}

iscamounlocked( var_0, var_1 )
{
    if ( maps\mp\_utility::ismlgmatch() )
        return 1;

    var_2 = maps\mp\_utility::getbaseweaponname( var_0, 1 );

    if ( maps\mp\_utility::islootweapon( var_2 ) )
        var_2 = getbasefromlootversion( var_2 );

    var_3 = var_2 + " " + var_1;

    if ( !self isitemunlocked( var_3 ) )
        return 0;

    return 1;
}

isvalidequipment( var_0, var_1 )
{
    if ( var_1 )
        return isvalidoffhand( var_0, 0 );

    var_0 = maps\mp\_utility::strip_suffix( var_0, "_lefthand" );

    switch ( var_0 )
    {
        case "contact_grenade_var_mp":
        case "semtex_grenade_var_mp":
        case "frag_grenade_var_mp":
        case "smoke_grenade_var_mp":
        case "paint_grenade_var_mp":
        case "emp_grenade_var_mp":
        case "stun_grenade_var_mp":
        case "mute_bomb_mp":
        case "explosive_drone_mp":
        case "tracking_drone_mp":
        case "smoke_grenade_mp":
        case "emp_grenade_mp":
        case "paint_grenade_mp":
        case "stun_grenade_mp":
        case "concussion_grenade_mp":
        case "flash_grenade_mp":
        case "scrambler_mp":
        case "s1_tactical_insertion_device_mp":
        case "portable_radar_mp":
        case "explosive_gel_mp":
        case "exoknife_mp":
        case "throwingknife_mp":
        case "tri_drone_mp":
        case "c4_mp":
        case "bouncingbetty_mp":
        case "semtex_mp":
        case "trophy_mp":
        case "exoknife_jug_mp":
        case "specialty_null":
        case "frag_grenade_mp":
        case "claymore_mp":
            return 1;
        default:
            recordvalidationinfraction();
            return 0;
    }
}

isvalidoffhand( var_0, var_1 )
{
    if ( var_1 )
        return isvalidequipment( var_0, 0 );

    var_0 = maps\mp\_utility::strip_suffix( var_0, "_lefthand" );

    switch ( var_0 )
    {
        case "exoslide_equipment_mp":
        case "exododge_equipment_mp":
        case "exoboost_equipment_mp":
        case "fast_heal_mp":
        case "exomute_equipment_mp":
        case "exoshield_equipment_mp":
        case "exorepulsor_equipment_mp":
        case "exoping_equipment_mp":
        case "exohover_equipment_mp":
        case "exocloak_equipment_mp":
        case "extra_health_mp":
        case "adrenaline_mp":
        case "specialty_null":
        case "none":
            return 1;
        default:
            recordvalidationinfraction();
            return 0;
    }
}

isvalidweapon( var_0 )
{
    if ( !isdefined( level.weaponrefs ) )
    {
        level.weaponrefs = [];

        foreach ( var_2 in level.weaponlist )
            level.weaponrefs[var_2] = 1;
    }

    if ( isdefined( level.weaponrefs[var_0] ) )
        return 1;

    recordvalidationinfraction();
    return 0;
}

isvalidkillstreak( var_0 )
{
    switch ( var_0 )
    {
        case "zm_ripped_turret":
        case "zm_ugv":
        case "zm_sentry":
        case "zm_squadmate":
        case "zm_camouflage":
        case "next_gen_exo":
        case "drone_carepackage":
        case "heavy_exosuit":
        case "mp_spark":
        case "mp_blackbox":
        case "mp_odium":
        case "mp_laser2":
        case "mp_lab2":
        case "map_killstreak":
        case "remote_mg_turret":
        case "directional_uav":
        case "airdrop_reinforcement_practice":
        case "airdrop_reinforcement_rare":
        case "airdrop_reinforcement_uncommon":
        case "airdrop_reinforcement_common":
        case "airdrop_trap":
        case "orbital_carepackage":
        case "uav":
        case "airdrop_assault":
        case "airdrop_sentry_minigun":
        case "strafing_run_airstrike":
        case "remote_mg_sentry_turret":
        case "mp_seoul2":
        case "mp_bigben2":
        case "assault_ugv":
        case "warbird":
        case "recon_ugv":
        case "mp_recreation":
        case "orbitalsupport":
        case "orbital_strike_drone":
        case "orbital_strike_cluster":
        case "orbital_strike_laser_chem":
        case "orbital_strike_chem":
        case "orbital_strike_laser":
        case "orbital_strike":
        case "missile_strike":
        case "mp_lost":
        case "sentry":
        case "emp":
        case "mp_comeback":
        case "mp_torqued":
        case "mp_terrace":
        case "mp_solar":
        case "mp_recovery":
        case "mp_levity":
        case "mp_instinct":
        case "mp_greenband":
        case "mp_dam":
        case "mp_prison":
        case "mp_refraction":
        case "none":
            return 1;
        default:
            recordvalidationinfraction();
            return 0;
    }
}
